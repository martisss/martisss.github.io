<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
<meta property="og:type" content="website">
<meta property="og:title" content="Martisss&#39;s blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Martisss&#39;s blog">
<meta property="og:description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
<meta property="og:locale">
<meta property="article:author" content="martisss">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>Martisss's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Martisss's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">hello, world</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/TypeScript%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%89%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/TypeScript%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%89%EF%BC%89/" class="post-title-link" itemprop="url">TypeScriptç±»å‹ä½“æ“ä¸­çš„å…³é”®å­—è¯¦è§£ï¼ˆä¸‰ï¼‰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-06-07 15:33:15 / ä¿®æ”¹æ—¶é—´ï¼š15:38:19" itemprop="dateCreated datePublished" datetime="2022-06-07T15:33:15+08:00">2022-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h1><p><code>infer</code>è¿™ä¸ªè¯çš„å«ä¹‰å³ æ¨æ–­ï¼Œå®é™…ä½œç”¨å¯ä»¥ç”¨å››ä¸ªå­—æ¦‚æ‹¬ï¼š<strong>ç±»å‹æ¨å¯¼</strong>ã€‚å®ƒä¼šåœ¨ç±»å‹æœªæ¨å¯¼æ—¶è¿›è¡Œå ä½ï¼Œç­‰åˆ°çœŸæ­£æ¨å¯¼æˆåŠŸåï¼Œå®ƒèƒ½å‡†ç¡®åœ°è¿”å›æ­£ç¡®çš„ç±»å‹ã€‚</p>
<p>åœ¨è¿™ä¸ªæ¡ä»¶è¯­å¥ <code>T extends (...args: infer P) =&gt; any ? P : T</code> ä¸­ï¼Œ<code>infer P</code> è¡¨ç¤ºå¾…æ¨æ–­çš„å‡½æ•°å‚æ•°ã€‚</p>
<p>æ•´å¥å«ä¹‰ä¸ºï¼šå¦‚æœ <code>T</code> èƒ½èµ‹å€¼ç»™ <code>(...args: infer P) =&gt; any</code>ï¼Œåˆ™ç»“æœæ˜¯ <code>(...args: infer P) =&gt; any</code> ç±»å‹ä¸­çš„å‚æ•° <code>P</code>ï¼Œå¦åˆ™è¿”å›ä¸º <code>T</code>ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> User &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Func = <span class="function">(<span class="params">user: User</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Param = ParamType&lt;Func&gt;; <span class="comment">// Param = User</span></span><br><span class="line"><span class="keyword">type</span> AA = ParamType&lt;<span class="built_in">string</span>&gt;; <span class="comment">// string</span></span><br></pre></td></tr></table></figure>

<p><code>infer</code>è¿™ä¸ªå…³é”®å­—åœ¨å„ç§é«˜çº§ç±»å‹å®ç°ä¸­å‡ºç°é¢‘ç‡å¾ˆé«˜ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¼šä¸<code>extends</code>ã€<code>keyof</code>ç­‰å…³é”®å­—ä¸€èµ·ä½¿ç”¨ã€‚</p>
<h1 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h1><h2 id="inferåªèƒ½åœ¨-extends-æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ï¼Œå£°æ˜å˜é‡åªèƒ½åœ¨trueåˆ†æ”¯ä¸­ä½¿ç”¨"><a href="#inferåªèƒ½åœ¨-extends-æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ï¼Œå£°æ˜å˜é‡åªèƒ½åœ¨trueåˆ†æ”¯ä¸­ä½¿ç”¨" class="headerlink" title="inferåªèƒ½åœ¨ extends æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ï¼Œå£°æ˜å˜é‡åªèƒ½åœ¨trueåˆ†æ”¯ä¸­ä½¿ç”¨"></a><strong><code>infer</code>åªèƒ½åœ¨ extends æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ï¼Œå£°æ˜å˜é‡åªèƒ½åœ¨trueåˆ†æ”¯ä¸­ä½¿ç”¨</strong></h2><p>æ¯”å¦‚æˆ‘æƒ³å®ç°ä¸Šæ–‡ä¸­<code>ParamType</code>ç±»å‹ï¼Œä»–æ¥å—ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œç„¶åè¿”å›å‡½æ•°å‚æ•°çš„ç±»å‹ã€‚</p>
<p>ç”¨å¦‚ä¸‹æ–¹å¼å®ç°ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ParameType&lt;T <span class="keyword">extends</span> (...args: infer R) =&gt; <span class="built_in">any</span>&gt; = R</span><br><span class="line"><span class="comment">// error: &#x27;infer&#x27; declarations are only permitted in the &#x27;extends&#x27; clause of a conditional type.</span></span><br></pre></td></tr></table></figure>
<p>  å¤§æ„å°±æ˜¯<code>infer</code>åªèƒ½åœ¨<code>extends</code>æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ï¼Œåœ¨<a target="_blank" rel="noopener" href="https://juejin.cn/post/7106038466139389959">extendsè¯¦è§£</a>ä¸­æˆ‘ä»¬æåˆ°<code>extends</code>å…³é”®å­—çš„ä½¿ç”¨åœºæ™¯å¤§æ¦‚æœ‰ä»¥ä¸‹å‡ ç§ï¼š<strong>æ¥å£ç»§æ‰¿ã€ç±»å‹çº¦æŸä»¥åŠæ¡ä»¶ç±»å‹</strong>ã€‚åœ¨ä¸Šè¿°<code>ParameType</code>ç±»å‹å®ç°ä¸­ï¼Œå¾ˆæ˜æ˜¾è¿™æ˜¯å±äºç±»å‹çº¦æŸçš„ç”¨æ³•ï¼Œæƒ³è¦å®ç°è¯¥ç±»å‹éœ€è¦ä½¿ç”¨æ¡ä»¶ç±»å‹ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Parameters&lt;T <span class="keyword">extends</span> (...args: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span>&gt; = T <span class="keyword">extends</span> (...args: infer P) =&gt; <span class="built_in">any</span> ? P : <span class="built_in">never</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>  <code>T extends (...args: any) =&gt; infer P</code>ï¼šå¦‚æœä¸çœ‹<code>infer R</code>ï¼Œè¿™æ®µä»£ç å®é™…è¡¨ç¤ºï¼š <code>T</code>æ˜¯ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ã€‚</li>
<li>  <code>(...args: any) =&gt; infer P</code>ï¼šè¿™æ®µä»£ç å®é™…è¡¨ç¤ºä¸€ä¸ªå‡½æ•°ç±»å‹ï¼ŒæŠŠå®ƒçš„å‚æ•°ä½¿ç”¨<code>args</code>æ¥è¡¨ç¤ºï¼ŒæŠŠå®ƒçš„è¿”å›ç±»å‹ç”¨<code>P</code>æ¥è¿›è¡Œå ä½ã€‚</li>
<li>  å¦‚æœ<code>T</code>æ»¡è¶³æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿”å›å…¶å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œä¹Ÿå°±æ˜¯<code>P</code>ï¼›å¦‚æœä¸æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œå°±è¿”å›<code>never</code></li>
</ul>
<p>æ­¤å¤–ï¼Œ<strong>è¦æ³¨æ„<code>infer</code>å£°æ˜çš„å˜é‡åªèƒ½åœ¨<code>true</code>åˆ†æ”¯ä¸­ä½¿ç”¨</strong>ã€‚</p>
<h2 id="å¯¹ä½¿ç”¨äº†å‡½æ•°é‡è½½çš„å‡½æ•°è¿›è¡Œç±»å‹æ¨æ–­"><a href="#å¯¹ä½¿ç”¨äº†å‡½æ•°é‡è½½çš„å‡½æ•°è¿›è¡Œç±»å‹æ¨æ–­" class="headerlink" title="å¯¹ä½¿ç”¨äº†å‡½æ•°é‡è½½çš„å‡½æ•°è¿›è¡Œç±»å‹æ¨æ–­"></a><strong>å¯¹ä½¿ç”¨äº†å‡½æ•°é‡è½½çš„å‡½æ•°è¿›è¡Œç±»å‹æ¨æ–­</strong></h2><p>å‡½æ•°é‡è½½æˆ–â½…æ³•é‡è½½æ˜¯ä½¿â½¤ç›¸åŒåç§°å’Œä¸åŒå‚æ•°æ•°é‡æˆ–ç±»å‹åˆ›å»ºå¤šä¸ªâ½…æ³•çš„â¼€ç§èƒ½â¼’ã€‚ä¸€äº› <code>JavaScript</code> å‡½æ•°åœ¨è°ƒç”¨çš„æ—¶å€™å¯ä»¥ä¼ å…¥ä¸åŒæ•°é‡å’Œç±»å‹çš„å‚æ•°ã€‚ä¸¾ä¸ªä¾‹å­ã€‚ä½ å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ—¥æœŸç±»å‹ <code>Date</code>ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªæ—¶é—´æˆ³ï¼ˆä¸€ä¸ªå‚æ•°ï¼‰æˆ–è€…ä¸€ä¸ª æœˆ/æ—¥/å¹´ çš„æ ¼å¼ (ä¸‰ä¸ªå‚æ•°)ã€‚åœ¨ <code>TypeScript</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å†™é‡è½½ç­¾å (<code>overlaod signatures</code>) è¯´æ˜ä¸€ä¸ªå‡½æ•°çš„ä¸åŒè°ƒç”¨æ–¹æ³•ã€‚ æˆ‘ä»¬éœ€è¦å†™ä¸€äº›å‡½æ•°ç­¾å (é€šå¸¸ä¸¤ä¸ªæˆ–è€…æ›´å¤š)ï¼Œç„¶åå†å†™å‡½æ•°ä½“çš„å†…å®¹ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeDate</span>(<span class="params">timestamp: <span class="built_in">number</span></span>): <span class="title">Date</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeDate</span>(<span class="params">m: <span class="built_in">number</span>, d: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">Date</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeDate</span>(<span class="params">mOrTimestamp: <span class="built_in">number</span>, d?: <span class="built_in">number</span>, y?: <span class="built_in">number</span></span>): <span class="title">Date</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (d !== <span class="literal">undefined</span> &amp;&amp; y !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(y, mOrTimestamp, d);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(mOrTimestamp);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> d1 = makeDate(<span class="number">12345678</span>);</span><br><span class="line"><span class="keyword">const</span> d2 = makeDate(<span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">const</span> d3 = makeDate(<span class="number">1</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>å¯¹ä½¿ç”¨äº†å‡½æ•°é‡è½½çš„å‡½æ•°è¿›è¡Œç±»å‹æ¨æ–­æ—¶ï¼Œä»¥æœ€åä¸€ä¸ªç­¾åä¸ºå‡†ï¼Œå› ä¸ºä¸€èˆ¬è¿™ä¸ªç­¾åæ˜¯ç”¨æ¥å¤„ç†æ‰€æœ‰æƒ…å†µçš„ç­¾åã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> a = Parameters&lt;<span class="keyword">typeof</span> makeDate&gt;  <span class="comment">//type a = [m: number, d: number, y: number]</span></span><br></pre></td></tr></table></figure>
<h2 id="inferçš„ä½ç½®ä¼šå½±å“åˆ°æ¨æ–­çš„ç»“æœ"><a href="#inferçš„ä½ç½®ä¼šå½±å“åˆ°æ¨æ–­çš„ç»“æœ" class="headerlink" title="inferçš„ä½ç½®ä¼šå½±å“åˆ°æ¨æ–­çš„ç»“æœ"></a><strong>inferçš„ä½ç½®ä¼šå½±å“åˆ°æ¨æ–­çš„ç»“æœ</strong></h2><p>è¿™æ¶‰åŠåˆ°åå˜ä¸é€†å˜ï¼Œå…·ä½“çš„åŒºåˆ«å°†åœ¨ä¹‹åçš„æ–‡ç« ä¸­è¿›è¡Œè®²è§£ï¼Œè¿™é‡Œåªéœ€è¦çŸ¥é“ï¼šåå˜æˆ–é€†å˜ä¸ <code>infer</code> å‚æ•°ä½ç½®æœ‰å…³ã€‚åœ¨ TypeScript ä¸­ï¼Œ<strong>å¯¹è±¡ã€ç±»ã€æ•°ç»„å’Œå‡½æ•°çš„è¿”å›å€¼ç±»å‹</strong>éƒ½æ˜¯åå˜å…³ç³»ï¼Œè€Œ<strong>å‡½æ•°çš„å‚æ•°ç±»å‹</strong>æ˜¯é€†å˜å…³ç³»ï¼Œæ‰€ä»¥ <code>infer</code> ä½ç½®å¦‚æœåœ¨å‡½æ•°å‚æ•°ä¸Šï¼Œå°±ä¼šéµå¾ªé€†å˜åŸåˆ™ã€‚</p>
<ul>
<li>  <strong>å½“<code>infer</code>åœ¨åå˜çš„ä½ç½®ä¸Šæ—¶ï¼ŒåŒä¸€ç±»å‹å˜é‡çš„å¤šä¸ªå€™é€‰ç±»å‹å°†ä¼šè¢«æ¨æ–­ä¸ºè”åˆç±»å‹ï¼Œ</strong></li>
</ul>
<!---->

<ul>
<li>  <strong>å½“<code>infer</code>åœ¨é€†å˜çš„ä½ç½®ä¸Šæ—¶ï¼ŒåŒä¸€ç±»å‹å˜é‡çš„å¤šä¸ªå€™é€‰ç±»å‹å°†ä¼šè¢«æ¨æ–­ä¸ºäº¤å‰ç±»å‹ã€‚</strong></li>
</ul>
<p>çœ‹ä¾‹å­ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Foo&lt;T&gt; = T <span class="keyword">extends</span> &#123; <span class="attr">a</span>: infer U, <span class="attr">b</span>: infer U &#125; ? U : <span class="built_in">never</span>;</span><br><span class="line"><span class="keyword">type</span> T10 = Foo&lt;&#123; <span class="attr">a</span>: <span class="built_in">string</span>, <span class="attr">b</span>: <span class="built_in">string</span> &#125;&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> T11 = Foo&lt;&#123; <span class="attr">a</span>: <span class="built_in">string</span>, <span class="attr">b</span>: <span class="built_in">number</span> &#125;&gt;;  <span class="comment">// string | number</span></span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§ä¸Šæ–‡çš„è§„åˆ™ï¼Œè¿™åº”è¯¥æ˜¯å±äºåå˜ï¼Œå› æ­¤<code>T11</code>ç»“æœæ˜¯<code>string | number</code></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Bar&lt;T&gt; = T <span class="keyword">extends</span> &#123; <span class="attr">a</span>: <span class="function">(<span class="params">x: infer U</span>) =&gt;</span> <span class="built_in">void</span>, <span class="attr">b</span>: <span class="function">(<span class="params">x: infer U</span>) =&gt;</span> <span class="built_in">void</span> &#125; ? U : <span class="built_in">never</span>;</span><br><span class="line"><span class="keyword">type</span> T20 = Bar&lt;&#123; <span class="attr">a</span>: <span class="function">(<span class="params">x: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>, <span class="attr">b</span>: <span class="function">(<span class="params">x: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span> &#125;&gt;;  <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> T21 = Bar&lt;&#123; <span class="attr">a</span>: <span class="function">(<span class="params">x: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>, <span class="attr">b</span>: <span class="function">(<span class="params">x: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span> &#125;&gt;;  <span class="comment">// string &amp; number</span></span><br></pre></td></tr></table></figure>

<p>åŒæ ·åœ°ï¼Œ<code>x</code>è¿™é‡Œæ—¢æœ‰å¯èƒ½æ˜¯<code>string</code>,ä¹Ÿå¯èƒ½æ˜¯<code>number</code>,ä½†æœ€ç»ˆå´è¢«æ¨æ–­ä¸ºäº¤å‰ç±»å‹ã€‚è¿™å°±æ˜¯å› ä¸º<code>infer</code>æ‰€å¤„çš„æ˜¯é€†å˜çš„ä½ç½®ï¼Œå³è¿™é‡Œæ˜¯åœ¨æ¨æ–­å‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œå¯¼è‡´æœ€ç»ˆæ¨å¯¼ä¸ºäº¤å‰ç±»å‹ã€‚</p>
<h1 id="ç±»å‹ä½“æ“å®æˆ˜"><a href="#ç±»å‹ä½“æ“å®æˆ˜" class="headerlink" title="ç±»å‹ä½“æ“å®æˆ˜"></a>ç±»å‹ä½“æ“å®æˆ˜</h1><blockquote>
<p>é«˜è´¨é‡çš„ç±»å‹å¯ä»¥æé«˜é¡¹ç›®çš„å¯ç»´æŠ¤æ€§å¹¶é¿å…ä¸€äº›æ½œåœ¨çš„æ¼æ´ã€‚ã€<a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges">type-challenges</a>ã€‘æ—¨åœ¨è®©ä½ æ›´å¥½çš„äº†è§£ TS çš„ç±»å‹ç³»ç»Ÿï¼Œç¼–å†™ä½ è‡ªå·±çš„ç±»å‹å·¥å…·ï¼Œæˆ–è€…åªæ˜¯å•çº¯çš„äº«å—æŒ‘æˆ˜çš„ä¹è¶£ï¼</p>
</blockquote>
<p>ã€<a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges">type-challenges</a>ã€‘ä¸­æœ‰å„ç§æœ‰å…³ç±»å‹æ“ä½œçš„å°æŒ‘æˆ˜ï¼Œæ¥ä¸‹æ¥æˆ‘å°†æŒ‘é€‰å…¶ä¸­ä¸<code>infer</code>æœ‰å…³çš„ä¸€äº›æŒ‘æˆ˜ã€‚</p>
<h3 id="First-of-Array"><a href="#First-of-Array" class="headerlink" title="First of Array"></a><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges/blob/main/questions/00014-easy-first/README.md">First of Array</a></h3><p>è¦æ±‚ï¼šå®ç°ä¸€ä¸ªé€šç”¨<code>First&lt;T&gt;</code>ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°ç»„<code>T</code>å¹¶è¿”å›å®ƒçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç±»å‹ã€‚</p>
<p>å®ç°ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> First&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> [infer L, ...infer R] ? L : <span class="built_in">never</span></span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨äº†<code>infer</code>å£°æ˜äº†<code>L</code>å’Œ<code>R</code>è¿›è¡Œå ä½ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li>  <code>infer R</code>ï¼š è¡¨ç¤ºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å ä½ã€‚</li>
<li>  <code>...infer L</code>: è¡¨ç¤ºæ•°ç»„å‰©ä½™å…ƒç´ çš„å ä½ã€‚</li>
<li>  é€šè¿‡<code>extends</code>åˆ¤æ–­è¿›å…¥<code>true</code>åˆ†æ”¯æ—¶ï¼Œè¿”å›ç±»å‹<code>L</code>ï¼Œå¦åˆ™è¿”å›<code>never</code></li>
</ul>
<p>å½“ç„¶ï¼Œä¸Šè¿°å®ç°æ–¹å¼æ˜¯é€šè¿‡å ä½å®ç°çš„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼•çš„æ–¹å¼å®ç°ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> First&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> [] ? <span class="built_in">never</span> : T[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<h3 id="Capitalize"><a href="#Capitalize" class="headerlink" title="Capitalize"></a><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges/blob/main/questions/00110-medium-capitalize/README.md">Capitalize</a></h3><p>è¦æ±‚ï¼šå®ç° <code>Capitalize&lt;T&gt;</code> å®ƒå°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—æ¯è½¬æ¢ä¸ºå¤§å†™ï¼Œå…¶ä½™å­—æ¯ä¿æŒåŸæ ·ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> capitalized = Capitalize&lt;<span class="string">&#x27;hello world&#x27;</span>&gt; <span class="comment">// expected to be &#x27;Hello world&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å®ç°ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Capitalize&lt;S <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer L&#125;</span><span class="subst">$&#123;infer R&#125;</span>`</span> ? <span class="string">`<span class="subst">$&#123;Uppercase&lt;L&gt;&#125;</span><span class="subst">$&#123;R&#125;</span>`</span>: S</span><br></pre></td></tr></table></figure>

<p>æ—¢ç„¶æœ‰é¦–å­—æ¯å¤§å†™ï¼Œé‚£ä¹ˆç›¸åº”çš„é¦–å­—æ¯å°å†™<code>Uncapatilize</code>çš„å®ç°ä¹Ÿç±»ä¼¼ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> UnCapitalize&lt;S <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = S <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer L&#125;</span><span class="subst">$&#123;infer R&#125;</span>`</span> ? <span class="string">`<span class="subst">$&#123;Lowercase&lt;L&gt;&#125;</span><span class="subst">$&#123;R&#125;</span>`</span>: S</span><br></pre></td></tr></table></figure>

<p>æ— è®ºé¦–å­—æ¯å¤§å†™è¿˜æ˜¯é¦–å­—æ¯å°å†™ï¼Œæ ¸å¿ƒå®ç°è¿˜æ˜¯ç”¨<code>infer L</code>å»å ä½ï¼Œç„¶åå¯¹å…¶è°ƒç”¨<code>Uppercase</code>æˆ–è€…<code>Lowercase</code></p>
<h3 id="Tuple-to-Union"><a href="#Tuple-to-Union" class="headerlink" title="Tuple to Union"></a><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges/blob/main/questions/00010-medium-tuple-to-union/README.md">Tuple to Union</a></h3><p>è¦æ±‚ï¼š</p>
<p>å®ç°æ³›å‹<code>TupleToUnion&lt;T&gt;</code>ï¼Œè¿”å›å…ƒç»„æ‰€æœ‰å€¼çš„ç±»å‹ç»„æˆçš„è”åˆç±»å‹</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Arr = [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Test = TupleToUnion&lt;Arr&gt; <span class="comment">// expected to be &#x27;1&#x27; | &#x27;2&#x27; | &#x27;3&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å®ç°ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> TupleToUnion&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T[<span class="built_in">number</span>]</span><br></pre></td></tr></table></figure>

<p>  <code>T[number]</code>ï¼š<strong>å®ƒä¼šè‡ªåŠ¨è¿­ä»£å…ƒç»„çš„æ•°å­—å‹ç´¢å¼•ï¼Œç„¶åå°†æ‰€ä»¥å…ƒç´ ç»„åˆæˆä¸€ä¸ªè”åˆç±»å‹</strong>ã€‚</p>
<p>è¿™ç§è§£æ³•åº”è¯¥æ˜¯æ¯”è¾ƒç®€å•ç›´æ¥çš„ï¼Œ<code>T[number]</code>çš„ä½¿ç”¨æ¯”è¾ƒå·§å¦™ï¼Œä½†å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡åŠ¨æ‰‹å®ç°è¿™æ ·çš„ç±»å‹ï¼Œæ¯”è¾ƒéš¾æƒ³åˆ°è¿™ç§è§£æ³•ã€‚</p>
<p>å¦‚æœæƒ³è¦ç”¨<code>infer</code>å®ç°çš„è¯ï¼Œåº”è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿ</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> TupleToUnion&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> [infer L, ...infer R] ? L | TupleToUnion&lt;R&gt; : <span class="built_in">never</span></span><br></pre></td></tr></table></figure>

<p><code>L | TupleToUnion&lt;args&gt;</code>ï¼šLè¡¨ç¤ºæ¯ä¸€æ¬¡è¿­ä»£ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒçš„è¿­ä»£è¿‡ç¨‹å¯ä»¥ç”¨ä¸‹é¢ä¼ªä»£ç è¡¨ç¤ºï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€æ¬¡è¿­ä»£</span></span><br><span class="line"><span class="keyword">const</span> L = <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="keyword">const</span> R = [<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> result = <span class="string">&#x27;1&#x27;</span> | TupleToUnion&lt;args&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒæ¬¡è¿­ä»£</span></span><br><span class="line"><span class="keyword">const</span> L = <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="keyword">const</span> R = [<span class="string">&#x27;3&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> result = <span class="string">&#x27;1&#x27;</span> | <span class="string">&#x27;2&#x27;</span> | TupleToUnion&lt;args&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰æ¬¡è¿­ä»£</span></span><br><span class="line"><span class="keyword">const</span> L = <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="keyword">const</span> R = [<span class="string">&#x27;&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> result = <span class="string">&#x27;1&#x27;</span> | <span class="string">&#x27;2&#x27;</span> | <span class="string">&#x27;3&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è¯´ç™½äº†å°±æ˜¯é€’å½’çš„æ€æƒ³ï¼Œæƒ³é€šäº†ä¹Ÿä¸éš¾ã€‚</p>
<p>åœ¨<a target="_blank" rel="noopener" href="https://jkchao.github.io/typescript-book-chinese/tips/infer.html#%E4%B8%80%E4%BA%9B%E7%94%A8%E4%BE%8B">æ·±å…¥ç†è§£TypeScritp</a>ä¸­çœ‹åˆ°ä¸€ç§è§£æ³•ï¼Œä¹Ÿå¾ˆå·§å¦™ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> TupleToUnion&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[]&gt; = T <span class="keyword">extends</span> <span class="built_in">Array</span>&lt;infer R&gt; ? R : <span class="built_in">never</span></span><br></pre></td></tr></table></figure>

<p>è¯¥å®ç°çš„å‰ææ˜¯ï¼š<strong>tuple ç±»å‹åœ¨ä¸€å®šæ¡ä»¶ä¸‹ï¼Œæ˜¯å¯ä»¥èµ‹å€¼ç»™æ•°ç»„ç±»å‹</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> TTuple = [<span class="built_in">string</span>, <span class="built_in">number</span>];</span><br><span class="line"><span class="keyword">type</span> TArray = <span class="built_in">Array</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Res = TTuple <span class="keyword">extends</span> TArray ? <span class="literal">true</span> : <span class="literal">false</span>; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> ResO = TArray <span class="keyword">extends</span> TTuple ? <span class="literal">true</span> : <span class="literal">false</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆï¼Œä¹‹åå†åˆ©ç”¨<code>infer</code>ç±»å‹æ¨å¯¼çš„åŠŸèƒ½ï¼Œ<code>T extends Array&lt;infer R&gt;</code>è¿›å…¥<code>true</code>åˆ†æ”¯ï¼Œå°±å¾ˆå®¹æ˜“å¾—åˆ°æƒ³è¦çš„ç»“æœäº†ã€‚</p>
<h3 id="Union-to-Intersection"><a href="#Union-to-Intersection" class="headerlink" title="Union to Intersection"></a><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges/blob/main/questions/00055-hard-union-to-intersection/README.md">Union to Intersection</a></h3><p>è¦æ±‚ï¼šå°†è”åˆç±»å‹è½¬æ¢ä¸ºäº¤å‰ç±»å‹</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> I = Union2Intersection&lt;<span class="string">&#x27;foo&#x27;</span> | <span class="number">42</span> | <span class="literal">true</span>&gt; <span class="comment">// expected to be &#x27;foo&#x27; &amp; 42 &amp; true</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæŒ‘æˆ˜çš„æ ‡ç­¾æ˜¯<code>hard</code>, è¿˜æ˜¯å¾ˆæœ‰æŒ‘æˆ˜æ€§çš„ã€‚ä¸»è¦æ¶‰åŠåˆ°ä¸Šè¿°æ³¨æ„ç‚¹ä¸­çš„ç¬¬ä¸‰ç‚¹ï¼Œ</p>
<p>å³ï¼š<strong>å½“<code>infer</code>åœ¨é€†å˜çš„ä½ç½®ä¸Šæ—¶ï¼ŒåŒä¸€ç±»å‹å˜é‡çš„å¤šä¸ªå€™é€‰ç±»å‹å°†ä¼šè¢«æ¨æ–­ä¸ºäº¤å‰ç±»å‹ã€‚</strong></p>
<p>ç›´æ¥ç»™å‡º<code>stackoverflow</code>ä¸Šçš„<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type">è§£ç­”</a>:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> UnionToIntersection&lt;U&gt; = (U <span class="keyword">extends</span> <span class="built_in">any</span> ? <span class="function">(<span class="params">k: U</span>) =&gt;</span> <span class="built_in">void</span> : <span class="built_in">never</span>) <span class="keyword">extends</span> (<span class="function">(<span class="params">k: infer I</span>) =&gt;</span> <span class="built_in">void</span>) ? I : <span class="built_in">never</span>;</span><br></pre></td></tr></table></figure>

<p>å…·ä½“å®ç°å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li><p>  åˆ©ç”¨<code>extends</code>åˆ†é…æ¡ä»¶ç±»å‹è¯­å¥å°†è”åˆç±»å‹ä¸­çš„æ¯ä¸€ä¸ªå¤„ç†æˆ<code>(x: U) =&gt; any</code>è¿™æ ·çš„å‡½æ•°ç±»å‹</p>
</li>
<li><p>ç„¶ååˆ©ç”¨å½“<code>infer</code>åœ¨é€†å˜çš„ä½ç½®ä¸Šæ—¶ï¼ŒåŒä¸€ç±»å‹å˜é‡çš„å¤šä¸ªå€™é€‰ç±»å‹å°†ä¼šè¢«æ¨æ–­ä¸ºäº¤å‰ç±»å‹ï¼Œå¾—åˆ°æƒ³è¦çš„ç»“æœã€‚</p>
<p>  å…¶ä¸­ï¼Œé€†å˜çš„è¿‡ç¨‹ç±»ä¼¼å¦‚ä¸‹ï¼š</p>
  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T1 = &#123; <span class="attr">name</span>: <span class="built_in">string</span> &#125;;</span><br><span class="line"><span class="keyword">type</span> T2 = &#123; <span class="attr">age</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Bar&lt;T&gt; = T <span class="keyword">extends</span> &#123; <span class="attr">a</span>: <span class="function">(<span class="params">x: infer U</span>) =&gt;</span> <span class="built_in">void</span>; b: <span class="function">(<span class="params">x: infer U</span>) =&gt;</span> <span class="built_in">void</span> &#125; ? U : <span class="built_in">never</span>;</span><br><span class="line"><span class="comment">// å¤„åœ¨é€†å˜ä½ç½®æ—¶ï¼Œæ¨å¯¼å‡ºæ¥çš„ä¸ºäº¤å‰ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> T21 = Bar&lt;&#123; <span class="attr">a</span>: <span class="function">(<span class="params">x: T1</span>) =&gt;</span> <span class="built_in">void</span>; b: <span class="function">(<span class="params">x: T2</span>) =&gt;</span> <span class="built_in">void</span> &#125;&gt;; <span class="comment">// T1 &amp; T2</span></span><br></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1></li>
</ul>
<ol>
<li><p>ä½œç”¨ï¼š<strong>ç±»å‹æ¨å¯¼</strong>ï¼Œåœ¨ç±»å‹æœªæ¨å¯¼æ—¶è¿›è¡Œå ä½ï¼Œç­‰åˆ°çœŸæ­£æ¨å¯¼æˆåŠŸåï¼Œå®ƒèƒ½å‡†ç¡®åœ°è¿”å›æ­£ç¡®çš„ç±»å‹</p>
</li>
<li><p>æ³¨æ„ç‚¹ï¼š</p>
</li>
</ol>
<ul>
<li>  <code>infer</code>åªèƒ½åœ¨ extends æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ï¼Œå£°æ˜å˜é‡åªèƒ½åœ¨trueåˆ†æ”¯ä¸­ä½¿ç”¨</li>
<li>  å¯¹ä½¿ç”¨äº†å‡½æ•°é‡è½½çš„å‡½æ•°è¿›è¡Œç±»å‹æ¨æ–­æ—¶ï¼Œä»¥æœ€åä¸€ä¸ªç­¾åä¸ºå‡†ï¼Œå› ä¸ºä¸€èˆ¬è¿™ä¸ªç­¾åæ˜¯ç”¨æ¥å¤„ç†æ‰€æœ‰æƒ…å†µçš„ç­¾åã€‚</li>
<li>  å½“<code>infer</code>åœ¨åå˜çš„ä½ç½®ä¸Šæ—¶ï¼ŒåŒä¸€ç±»å‹å˜é‡çš„å¤šä¸ªå€™é€‰ç±»å‹å°†ä¼šè¢«æ¨æ–­ä¸ºè”åˆç±»å‹ï¼›å½“<code>infer</code>åœ¨é€†å˜çš„ä½ç½®ä¸Šæ—¶ï¼ŒåŒä¸€ç±»å‹å˜é‡çš„å¤šä¸ªå€™é€‰ç±»å‹å°†ä¼šè¢«æ¨æ–­ä¸ºäº¤å‰ç±»å‹ã€‚</li>
</ul>
<p><strong>æ›´å¤š</strong></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7105778922851139598">TypeScriptç±»å‹æ“ä½œä¸­çš„å…³é”®å­—è¯¦è§£ï¼ˆä¸€ï¼‰ï¼škeyof &amp; in</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7106038466139389959">TypeScriptç±»å‹æ“ä½œä¸­çš„å…³é”®å­—è¯¦è§£ï¼ˆäºŒï¼‰ï¼šextends</a></p>
<p><strong>å‚è€ƒ</strong></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6999441997236797470">ç²¾è¯»ã€ŠTypescript infer å…³é”®å­—ã€‹</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/Microsoft/TypeScript/pull/21496#"><br>Type inference in conditional types</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges">type-challenges</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/06/TypeScript%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%BA%8C%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/06/TypeScript%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%BA%8C%EF%BC%89/" class="post-title-link" itemprop="url">TypeScriptç±»å‹ä½“æ“ä¸­çš„å…³é”®å­—è¯¦è§£ï¼ˆäºŒï¼‰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-06-06 15:32:46" itemprop="dateCreated datePublished" datetime="2022-06-06T15:32:46+08:00">2022-06-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-06-07 15:39:16" itemprop="dateModified" datetime="2022-06-07T15:39:16+08:00">2022-06-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>åœ¨å„ç§ç±»å‹æ“ä½œä¸­ï¼Œå°‘ä¸äº†<code>extends</code>å…³é”®å­—çš„èº«å½±ï¼Œå®ƒä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªä½œç”¨ï¼š æ¥å£ç»§æ‰¿ ç±»å‹çº¦æŸä»¥åŠæ¡ä»¶ç±»å‹</p>
<h2 id="æ¥å£ç»§æ‰¿"><a href="#æ¥å£ç»§æ‰¿" class="headerlink" title="æ¥å£ç»§æ‰¿"></a>æ¥å£ç»§æ‰¿</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Player <span class="keyword">extends</span> Person &#123;</span><br><span class="line">    <span class="attr">item</span>: <span class="string">&#x27;ball&#x27;</span> | <span class="string">&#x27;swing&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ¥å£ç»§æ‰¿å</span></span><br><span class="line"><span class="comment">// interface Person &#123;</span></span><br><span class="line"><span class="comment">//     name: string;</span></span><br><span class="line"><span class="comment">//     age: number;</span></span><br><span class="line"><span class="comment">//     item: &#x27;ball&#x27; | &#x27;swing&#x27;;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="ç±»å‹çº¦æŸ"><a href="#ç±»å‹çº¦æŸ" class="headerlink" title="ç±»å‹çº¦æŸ"></a>ç±»å‹çº¦æŸ</h2><p>   é€šå¸¸å’Œæ³›å‹ä¸€èµ·ä½¿ç”¨ï¼Œé‚£ä¹ˆå…·ä½“åº”è¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Dog &#123;</span><br><span class="line">  <span class="attr">bark</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dogBark</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">Dog</span>&gt;(<span class="params">arg: T</span>) </span>&#123;</span><br><span class="line">  arg.bark()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>   æˆ‘ä»¬å®šä¹‰ç±»å‹<code>Dog</code>,å®ƒ æœ‰ä¸€ä¸ªä¸è¿”å›ä»»ä½•å€¼çš„<code>bark</code>æ–¹æ³•ï¼Œä½¿ç”¨<code>extends</code>å…³é”®å­—è¿›è¡Œæ³›å‹çº¦æŸï¼Œä¼ å…¥<code>dogBark</code>æ–¹æ³•çš„å€¼å¿…é¡»æœ‰<code>bark</code>æ–¹æ³•ï¼Œç®€å•çš„è¯´<code>extends</code>å…³é”®å­—åœ¨è¿™é‡Œçš„ä½œç”¨ï¼šä½œä¸ºä¸€ä¸ªå®ˆé—¨å‘˜ï¼Œåªè®©ä¼šç‹—å«çš„è¿›ï¼Œç®¡ä½ æ˜¯ä¸æ˜¯ğŸ•ï¼Œåªè¦ä¼šç‹—å«ï¼Œå°±å¯ä»¥è¿›ï¼›å¦‚æœä¸ä¼šï¼Œè¯·å‡ºé—¨å³è½¬ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4cba3fa3d6e64707afa456a1f792efc7~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br> <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dogA = &#123;</span><br><span class="line">  <span class="attr">weight</span>: <span class="number">12</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dogB  =&#123;</span><br><span class="line">  <span class="attr">weight</span>: <span class="number">12</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">4</span>,</span><br><span class="line">  <span class="attr">bark</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;dogB is barking&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dogBark(dogA)       </span><br><span class="line"><span class="comment">// error !!!</span></span><br><span class="line"><span class="comment">// Argument of type &#x27;&#123; weight: number; age: number; &#125;&#x27; is not assignable to parameter of type &#x27;Dog&#x27;.</span></span><br><span class="line"><span class="comment">// Property &#x27;bark&#x27; is missing in type &#x27;&#123; weight: number; age: number; &#125;&#x27; but required in type &#x27;Dog&#x27;.</span></span><br><span class="line"></span><br><span class="line">dogBark(dogB)      <span class="comment">// success: &quot;dogB is barking&quot; </span></span><br></pre></td></tr></table></figure></p>
<p>åœ¨ä½¿ç”¨<code>extends</code>å…³é”®å­—å®ç°ä¸€äº›ç±»å‹æ—¶ï¼Œå¯èƒ½ä¼šç”¨åˆ°å¦‚ä¸‹ä»£ç ï¼š</p>
  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">P <span class="keyword">extends</span> keyof T</span><br></pre></td></tr></table></figure>

<p>   è¡¨ç¤º<code>P</code>çš„ç±»å‹æ˜¯<code>keyof T</code>è¿”å›çš„å­—é¢é‡è”åˆç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´<code>P</code>åŸæœ¬æ²¡é™åˆ¶ï¼Œæ˜¯<code>any</code>ï¼Œé™åˆ¶ä¹‹åç±»å‹å˜æˆäº†<code>keyof T</code>è¿”å›çš„å­—é¢é‡è”åˆç±»å‹ã€‚</p>
<p>   ç±»ä¼¼çš„æœ‰ä½¿ç”¨<code>T extends keyof any</code>å¯¹å¯¹è±¡ç±»å‹çš„å±æ€§è¿›è¡Œçº¦æŸ,<code>keyof any</code>è¿”å›çš„æ˜¯<code>string | number | symbol</code>ï¼Œå³è¿™ä¹Ÿæ˜¯å±æ€§å­—æ®µçš„å–å€¼èŒƒå›´ã€‚</p>
<p>   å†æ¥çœ‹è¿™æ ·ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/play#code/JYOwLgpgTgZghgYwgAgArQM4HsTIN4CwAUMqciHALYQBcyGYUoA5gNzFnJzO3kCulAEbR2RAL7FiYAJ4AHFADkqEAPIwAPABUAfMgC8yTQG0A5BWomAusgD0N5NChYodQ3JQmAROYieTyBDgQECwwZGFkPgwIABNkMCxkUBiIAA9492QTTRNiOwz5ZCVqNS0HVMgQGIx8M2UTOj4QAGsQgHcQMV0DYzqLa3yMPgQkDAwAQjz7GUL5KGwQYpQDJdL0eZxdWxsGJhBmIA">ä¾‹å­</a></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> NameOf&lt;T&gt; = T[<span class="string">&#x27;name&#x27;</span>] <span class="comment">// error:  Type &#x27;&quot;name&quot;&#x27; cannot be used to index type &#x27;T&#x27;</span></span><br></pre></td></tr></table></figure>
<p><code>NameOf</code>ç±»å‹çš„ä½œç”¨æ˜¯å–å¾—ä¼ å…¥ç±»å‹<code>T</code>ä¸­<code>name</code>å±æ€§çš„å€¼çš„ç±»å‹ï¼Œä½†è¿™é‡Œå´æŠ¥é”™äº†ã€‚å› ä¸ºä¼ å…¥çš„æ³›å‹<code>T</code>ä¸ä¸€å®šæœ‰å±æ€§<code>name</code>, ä¼ å…¥çš„å¯èƒ½æ˜¯ä¸€ä¸ªæ²¡æœ‰<code>name</code>å±æ€§çš„å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå­—é¢é‡ç±»å‹ï¼Œè®¿é—®<code>T</code>å¯èƒ½æ²¡æœ‰çš„å±æ€§æ˜¯ä¸å®‰å…¨çš„ï¼Œå› æ­¤ä¼šæŠ¥é”™ï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜å°±éœ€è¦å¯¹æ³›å‹<code>T</code>è¿›è¡Œçº¦æŸï¼Œç¡®ä¿å…¶ä¸€å®šå…·æœ‰<code>name</code>è¿™ä¸ªå±æ€§ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> NameOf&lt;T <span class="keyword">extends</span> &#123;<span class="string">&#x27;name&#x27;</span>: unknown&#125;&gt; = T[<span class="string">&#x27;name&#x27;</span>] <span class="comment">// success!</span></span><br><span class="line"><span class="keyword">type</span> personName = NameOf&lt;Person&gt;  <span class="comment">//string</span></span><br></pre></td></tr></table></figure>

<h2 id="æ¡ä»¶ç±»å‹-Conditional-Types"><a href="#æ¡ä»¶ç±»å‹-Conditional-Types" class="headerlink" title="æ¡ä»¶ç±»å‹ (Conditional Types )"></a>æ¡ä»¶ç±»å‹ (Conditional Types )</h2><p>  å¸¸è§è¡¨ç°å½¢å¼ä¸ºï¼š</p>
   <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T <span class="keyword">extends</span> U ? <span class="string">&#x27;Y&#x27;</span> : <span class="string">&#x27;N&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥è¿™æ ·ç†è§£ï¼š<code>T</code>æ˜¯<code>U</code>çš„å­ç±»å‹ï¼Œé‚£ä¹ˆè¿”å›ç»“æœæ˜¯<code>&#39;Y&#39;</code>, å¦åˆ™æ˜¯<code>&#39;N&#39;</code>.   ç±»ä¼¼<code>JS</code>ä¸­çš„ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œå…¶å·¥ä½œåŸç†æ˜¯ç±»ä¼¼çš„ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> res1 = <span class="literal">true</span> <span class="keyword">extends</span> <span class="built_in">boolean</span> ? <span class="literal">true</span> : <span class="literal">false</span>                  <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> res2 = <span class="string">&#x27;name&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;name&#x27;</span>|<span class="string">&#x27;age&#x27;</span> ? <span class="literal">true</span> : <span class="literal">false</span>           <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> res3 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="keyword">extends</span> &#123; <span class="attr">length</span>: <span class="built_in">number</span>; &#125; ? <span class="literal">true</span> : <span class="literal">false</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> res4 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="keyword">extends</span> <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt; ? <span class="literal">true</span> : <span class="literal">false</span>       <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>   è¦æ³¨æ„ï¼š</p>
<ul>
<li>  <code>extends</code>åœ¨æ¡ä»¶ç±»å‹ä¸­çš„ä½œç”¨å’Œç±»å‹çº¦æŸä¸­çš„ä½œç”¨ä¸ä¸€æ ·</li>
<li>  æ¡ä»¶ç±»å‹åªæ”¯æŒåœ¨<code>type</code>ä¸­ä½¿ç”¨</li>
</ul>
<p>æ­¤å¤–ï¼Œ**<code>extends</code>ä½œä¸ºæ¡ä»¶ç±»å‹æ—¶ä¹Ÿæ˜¯å¯ä»¥åµŒå¥—çš„**ï¼Œå°±åƒ<code>if</code>è¯­å¥ä¸€æ ·ã€‚<br>   <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> TypeName&lt;T&gt; =</span><br><span class="line"> T <span class="keyword">extends</span> <span class="built_in">string</span>    ? <span class="string">&quot;string&quot;</span> :</span><br><span class="line"> T <span class="keyword">extends</span> <span class="built_in">number</span>    ? <span class="string">&quot;number&quot;</span> :</span><br><span class="line"> T <span class="keyword">extends</span> <span class="built_in">boolean</span>   ? <span class="string">&quot;boolean&quot;</span> :</span><br><span class="line"> T <span class="keyword">extends</span> <span class="literal">undefined</span> ? <span class="string">&quot;undefined&quot;</span> :</span><br><span class="line"> T <span class="keyword">extends</span> <span class="built_in">Function</span>  ? <span class="string">&quot;function&quot;</span> :</span><br><span class="line"> <span class="string">&quot;object&quot;</span>;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">type</span> T0 = TypeName&lt;<span class="built_in">string</span>&gt;;  <span class="comment">// &quot;string&quot;</span></span><br><span class="line"> <span class="keyword">type</span> T1 = TypeName&lt;<span class="string">&quot;a&quot;</span>&gt;;     <span class="comment">// &quot;string&quot;</span></span><br><span class="line"> <span class="keyword">type</span> T2 = TypeName&lt;<span class="literal">true</span>&gt;;    <span class="comment">// &quot;boolean&quot;</span></span><br><span class="line"> <span class="keyword">type</span> T3 = TypeName&lt;<span class="function">() =&gt;</span> <span class="built_in">void</span>&gt;;  <span class="comment">// &quot;function&quot;</span></span><br><span class="line"> <span class="keyword">type</span> T4 = TypeName&lt;<span class="built_in">string</span>[]&gt;;    <span class="comment">// &quot;object&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>   <hr/></p>
<p>   å†æ¥çœ‹å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A1 = P&lt;<span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span>&gt; <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>; <span class="comment">//  type A1 = number</span></span><br><span class="line"><span class="keyword">type</span> P&lt;T&gt; = T <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">type</span> A2 = P&lt;<span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span>&gt; <span class="comment">// ?   type A2 = string | number </span></span><br></pre></td></tr></table></figure>

<p>   <code>A2</code>ç»“æœä¸ºä»€ä¹ˆä¸æ˜¯<code>number</code>å‘¢ï¼Ÿå®é™…å‘ç”Ÿçš„æ“ä½œç±»ä¼¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A2 = P&lt;<span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span>&gt; </span><br><span class="line"><span class="keyword">type</span> A2 = P&lt;<span class="string">&#x27;x&#x27;</span>&gt;  | P&lt;<span class="string">&#x27;y&#x27;</span>&gt;</span><br><span class="line"><span class="keyword">type</span> A2 = (<span class="string">&#x27;x&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>) | (<span class="string">&#x27;y&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>)</span><br><span class="line"><span class="keyword">type</span> A2 = <span class="built_in">string</span> | <span class="built_in">number</span></span><br></pre></td></tr></table></figure>

<p>è¿™å«<strong>åˆ†é…æ¡ä»¶ç±»å‹ï¼ˆ<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#distributive-conditional-types="><code>Distributive Conditional Types</code></a>ï¼‰</strong></p>
<p>å½“<code>T</code>ä¸ºæ³›å‹æ—¶ï¼Œä¸”ä¼ å…¥è¯¥æ³›å‹çš„æ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œé‚£ä¹ˆè¯¥è”åˆç±»å‹ä¸­çš„æ¯ä¸€ä¸ªç±»å‹éƒ½è¦è¿›è¡Œä¸Šè¿°æ“ä½œï¼Œæœ€ç»ˆè¿”å›ä¸Šè¿°æ“ä½œç»“æœç»„æˆçš„æ–°è”åˆç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œè¿™é‡Œçš„<code>åˆ†é…</code>æ˜¯æŒ‡å°†ä¸Šè¿°æåˆ°çš„â€ä¸‰å…ƒè¡¨è¾¾å¼â€æ“ä½œåº”ç”¨äºè”åˆç±»å‹ä¸­çš„æ¯ä¸ªæˆå‘˜ã€‚</p>
<p><strong>è¦æ³¨æ„çš„æ˜¯ï¼š</strong></p>
<p><strong>1. <code>extends</code>å…³é”®å­—å·¦ä¾§çš„æ˜¯ä¸€ä¸ªæ³›å‹ï¼Œä¸”ä¼ å…¥æ³›å‹çš„å¿…é¡»æ˜¯è”åˆç±»å‹ï¼Œå…¶ä»–ç±»å‹å¦‚äº¤å‰ç±»å‹æ˜¯æ²¡æœ‰<code>åˆ†é…</code>æ•ˆæœçš„ã€‚</strong></p>
<p>å¦‚æœå·¦ä¾§ä¸æ˜¯æ³›å‹ï¼Œç›´æ¥ä¼ å…¥ä¸€ä¸ªè”åˆç±»å‹ï¼Œæ˜¯æ²¡æœ‰<code>åˆ†é…</code>æ•ˆæœçš„ï¼Œåªæ˜¯ä¸€ä¸ªç®€å•çš„æ¡ä»¶åˆ¤æ–­ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">type</span> A1 = <span class="string">&#x27;x&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>; <span class="comment">// string</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">type</span> A2 = <span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>; <span class="comment">// number</span></span><br><span class="line"><span class="comment">// å¦‚æœåˆ†é…ç”Ÿæ•ˆçš„è¯ï¼Œç»“æœåº”è¯¥æ˜¯ string | number</span></span><br></pre></td></tr></table></figure>

<p><strong>2. <code>åˆ†é…</code>æ“ä½œåªæœ‰åœ¨æ£€æŸ¥çš„ç±»å‹æ˜¯<code>naked type parameter</code>æ—¶æ‰ç”Ÿæ•ˆã€‚</strong></p>
<p>é‚£ä¹ˆæ˜¯ä»€ä¹ˆæ˜¯<code>naked type parameter</code>å‘¢ï¼Ÿç›´æ¥ç¿»è¯‘è¿‡æ¥æ€ªæ€ªçš„ï¼Œå‚æ•°æ˜¯<code>è£¸</code>çš„ï¼Ÿ<br>æˆ‘çš„ç†è§£æ˜¯æ²¡æœ‰å¯¹ä¼ è¿›æ¥çš„æ³›å‹å‚æ•°è¿›è¡Œä¸€äº›é¢å¤–æ“ä½œï¼Œé‚£ä¹ˆå°±ç¬¦åˆ<code>naked type parameter</code>çš„è¦æ±‚ã€‚</p>
<p>çœ‹ä¸€ä¸‹ä»¥ä¸‹çš„ä¾‹å­ï¼Œæ›´å®¹æ˜“ç†è§£ã€‚è¿™ä¹Ÿæ˜¯<code>stackoverflow</code>ä¸Šä¸€ä¸ªé«˜èµå›ç­”çš„<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/51651499/typescript-what-is-a-naked-type-parameter">ä¾‹å­</a>ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> NakedUsage&lt;T&gt; = T <span class="keyword">extends</span> <span class="built_in">boolean</span> ? <span class="string">&quot;YES&quot;</span> : <span class="string">&quot;NO&quot;</span></span><br><span class="line"><span class="keyword">type</span> WrappedUsage&lt;T&gt; = [T] <span class="keyword">extends</span> [<span class="built_in">boolean</span>] ? <span class="string">&quot;YES&quot;</span> : <span class="string">&quot;NO&quot;</span>; <span class="comment">// wrapped in a tuple,</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Distributed = NakedUsage&lt;<span class="built_in">number</span> | <span class="built_in">boolean</span> &gt; <span class="comment">// = NakedUsage&lt;number&gt; | NakedUsage&lt;boolean&gt; =  &quot;NO&quot; | &quot;YES&quot; </span></span><br><span class="line"><span class="keyword">type</span> NotDistributed = WrappedUsage&lt;<span class="built_in">number</span> | <span class="built_in">boolean</span> &gt; <span class="comment">// &quot;NO&quot;    </span></span><br><span class="line"><span class="keyword">type</span> NotDistributed2 = WrappedUsage&lt;<span class="built_in">boolean</span> &gt; <span class="comment">// &quot;YES&quot;</span></span><br></pre></td></tr></table></figure>

<p> å…¶ä¸­ï¼Œ<code>WrappedUsage</code>å¯¹ä¼ å…¥çš„æ³›å‹å‚æ•°è¿›è¡Œäº†æ“ä½œï¼Œä¸å±äº<code>naked type parameter</code>ï¼Œå› æ­¤ä¸ä¼šè¿›è¡Œ<code>åˆ†é…</code>æ“ä½œã€‚</p>
<h1 id="ç±»å‹æ“ä½œå®æˆ˜"><a href="#ç±»å‹æ“ä½œå®æˆ˜" class="headerlink" title="ç±»å‹æ“ä½œå®æˆ˜"></a>ç±»å‹æ“ä½œå®æˆ˜</h1><h2 id="Pick-amp-Record"><a href="#Pick-amp-Record" class="headerlink" title="Pick &amp; Record"></a>Pick &amp; Record</h2><p>ä¸<code>extends</code>ç±»å‹çº¦æŸç‰¹æ€§ç›¸å…³çš„å·¥å…·ç±»å‹æœ‰<code>Pick</code>å’Œ<code>Record</code></p>
<p><strong>Pick</strong></p>
<p><code>Pick</code>è¡¨ç¤ºä»ä¸€ä¸ªç±»å‹ä¸­é€‰å–æŒ‡å®šçš„å‡ ä¸ªå­—æ®µç»„åˆæˆä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  address: <span class="built_in">string</span>;</span><br><span class="line">  sex: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PickResult = Pick&lt;Person, <span class="string">&#x27;name&#x27;</span> | <span class="string">&#x27;address&#x27;</span>&gt;</span><br><span class="line"><span class="comment">// &#123; name: string; address: string; &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>å®ç°æ–¹å¼</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Pick&lt;T, K <span class="keyword">extends</span> keyof T&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> K]: T[P];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆè¿›è¡Œäº†ç±»å‹é™å®šï¼Œ<code>K</code>ä¸€å®šæ˜¯<code>T</code>çš„å­é›†ï¼Œç„¶åç”¨<code>in</code>éå†<code>K</code>ä¸­çš„æ¯ä¸ªå±æ€§, T[P]æ˜¯å±æ€§å¯¹åº”çš„å€¼ã€‚</p>
<p><strong>Record</strong></p>
<p><code>Record&lt;K, T&gt;</code>ç”¨æ¥å°†<code>K</code>çš„æ¯ä¸€ä¸ªé”®(<code>k</code>)æŒ‡å®šä¸º<code>T</code>ç±»å‹ï¼Œè¿™æ ·ç”±å¤šä¸ª<code>k/T</code>ç»„åˆæˆäº†ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> keys = <span class="string">&#x27;Cat&#x27;</span>|<span class="string">&#x27;Dot&#x27;</span></span><br><span class="line"><span class="keyword">type</span> Animal = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> RecordResult = Record&lt;keys, Animal&gt;</span><br><span class="line"><span class="comment">// result: </span></span><br><span class="line"><span class="comment">// type RecordResult = &#123;</span></span><br><span class="line"><span class="comment">//     Cat: Animal;</span></span><br><span class="line"><span class="comment">//     Dot: Animal;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>å®ç°æ–¹å¼</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Record&lt;K <span class="keyword">extends</span> keyof <span class="built_in">any</span>, T&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> K]: T</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>keyof any</code>æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿé¼ æ ‡æ”¾ä¸Šå»çœ‹çœ‹å°±çŸ¥é“äº†</p>
<p>å› æ­¤ï¼Œ<code>keyof any</code>å³<code>string | number | symbol</code>ï¼Œå…ˆå¯¹é”®çš„å–å€¼èŒƒå›´è¿›è¡Œäº†é™å®šï¼Œåªèƒ½æ˜¯è¿™ä¸‰è€…ä¸­çš„ä¸€ä¸ªã€‚</p>
<h2 id="Exclude-amp-Extract-amp-NonNullable"><a href="#Exclude-amp-Extract-amp-NonNullable" class="headerlink" title="Exclude &amp; Extract &amp; NonNullable"></a>Exclude &amp; Extract &amp; NonNullable</h2><p>ä¸<code>extends</code>æ¡ä»¶ç±»å‹ç‰¹æ€§ç›¸å…³çš„å·¥å…·ç±»å‹åˆæœ‰å“ªäº›å‘¢ï¼Ÿ</p>
<p>å…ˆçœ‹ç€ä¸¤ä¸ªï¼š<code>Exclude</code>å’Œ<code>Extract</code></p>
<p><code>Exclude&lt;T, U&gt;</code>: æ’é™¤<code>T</code>ä¸­å±äº<code>U</code>çš„éƒ¨åˆ†</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bbb69201dbdb47c5b42c4cd6518aa888~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br><code>Extract&lt;T, U&gt;</code>ï¼š æå–<code>T</code>ä¸­å±äº<code>U</code>çš„éƒ¨åˆ†ï¼Œå³äºŒè€…äº¤é›†</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e339f4ecf7f1482fada83c125f347d03~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><strong>ä½¿ç”¨æ–¹æ³•</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ExcludeResult = Exclude&lt;<span class="string">&#x27;name&#x27;</span>|<span class="string">&#x27;age&#x27;</span>|<span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;sex&#x27;</span>|<span class="string">&#x27;address&#x27;</span>&gt;</span><br><span class="line"><span class="comment">//type ExcludeResult = &quot;name&quot; | &quot;age&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ExcludeResult = Extract&lt;<span class="string">&#x27;name&#x27;</span>|<span class="string">&#x27;age&#x27;</span>|<span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;sex&#x27;</span>|<span class="string">&#x27;address&#x27;</span>&gt;</span><br><span class="line"><span class="comment">//type ExcludeResult = &quot;sex&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>å®ç°æ–¹å¼</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Exclude&lt;T, U&gt; = T <span class="keyword">extends</span> U ? <span class="built_in">never</span> : T</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> extract&lt;T, U&gt; = T <span class="keyword">extends</span> U ? T : <span class="built_in">never</span></span><br></pre></td></tr></table></figure>

<p>å®ç°æ€è·¯ä¸å†èµ˜è¿°ï¼Œè§å‰æ–‡<code>extends</code>åˆ†é…æ¡ä»¶ç±»å‹çš„åŸç†</p>
<p><code>NonNullable</code>å·¥å…·ç±»å‹å¯ä»¥ä»ç›®æ ‡ç±»å‹ä¸­æ’é™¤<code>null</code>å’Œ<code>undefined</code>ï¼Œå’Œ<code>Exclude</code>ç›¸æ¯”ï¼Œå®ƒå°†<code>U</code>é™å®šçš„æ›´å…·ä½“ã€‚</p>
<p>å®ç°ä¹Ÿå¾ˆç®€å•ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A = <span class="literal">null</span> | <span class="literal">undefined</span> | <span class="string">&#x27;dog&#x27;</span> | <span class="built_in">Function</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type nonNullable&lt;T&gt; = Exclude&lt;T , undefined | null&gt;</span></span><br><span class="line"><span class="keyword">type</span> nonNullable&lt;T&gt; = T <span class="keyword">extends</span> <span class="literal">null</span> | <span class="literal">undefined</span> ? <span class="built_in">never</span> : T</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> res = nonNullable&lt;A&gt;   <span class="comment">// type res = Function | &quot;dog&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Omit"><a href="#Omit" class="headerlink" title="Omit"></a>Omit</h2><p>æ ¹æ®å·²ç»å®ç°çš„<code>Exclude</code>ç±»å‹ï¼Œå¯ä»¥å®ç°<code>Omit</code>ç±»å‹ï¼Œ<code>Omit&lt;T, K&gt;</code>:åˆ é™¤<code>T</code>ä¸­æŒ‡å®šçš„å­—æ®µï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person = &#123;</span><br><span class="line">  name?: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  address: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> OmitResult = Omit&lt;Person, <span class="string">&#x27;address&#x27;</span>&gt;</span><br><span class="line"><span class="comment">// ç»“æœï¼š&#123; nameï¼Ÿ: string; age: number; &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>å®ç°æ–¹å¼</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Omit&lt;T, K <span class="keyword">extends</span> keyof <span class="built_in">any</span>&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆï¼Œåˆ é™¤æŒ‡å®šå­—æ®µï¼Œå­—æ®µç±»å‹é™å®šåœ¨ <code>string | symbol number</code>ä¸­ï¼Œç„¶åç”¨<code>Exclude</code>ä»<code>T</code>çš„å±æ€§æ‰€ç»„æˆçš„å­—é¢é‡è”åˆç±»å‹ä¸­ç§»é™¤æŒ‡å®šå­—æ®µï¼Œå½¢æˆæ–°çš„è”åˆç±»å‹ï¼›æœ€ååˆ©ç”¨<code>Pick</code>é€‰å–æŒ‡å®šå­—æ®µç”Ÿæˆæ–°çš„ç±»å‹</p>
<h2 id="AppendToObject"><a href="#AppendToObject" class="headerlink" title="AppendToObject"></a>AppendToObject</h2><p><code>AppendToObject</code>çš„ä½œç”¨æ˜¯å‘æŒ‡å®šå¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§, åŒæ—¶æŒ‡å®šå±æ€§å€¼çš„ç±»å‹ã€‚å¦‚æœè¯¥å±æ€§å­—æ®µä¹‹å‰å°±å­˜åœ¨ï¼Œæ–°å¢çš„å­—æ®µä¼šè¢«å¿½ç•¥ã€‚</p>
<p>æ³¨ï¼šè¯¥ç±»å‹å¹¶ä¸æ˜¯å†…ç½®å·¥å…·ç±»å‹</p>
<p><strong>ä½¿ç”¨æ–¹å¼</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Test = &#123; <span class="attr">id</span>: <span class="string">&#x27;1&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// expected to be &#123; id: &#x27;1&#x27;, value: 4 &#125;</span></span><br><span class="line"><span class="keyword">type</span> Result = AppendToObject&lt;Test, <span class="string">&#x27;value&#x27;</span>, <span class="number">4</span>&gt; </span><br><span class="line"><span class="comment">// ç»“æœï¼š&#123; id: number; name: string; &#125;</span></span><br><span class="line"><span class="keyword">type</span> result = AppendToObject&lt;&#123; <span class="attr">id</span>: <span class="built_in">number</span>; &#125;, <span class="string">&#x27;name&#x27;</span>, <span class="built_in">string</span>&gt;</span><br></pre></td></tr></table></figure>
<p><strong>å®ç°æ–¹å¼</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> AppendToObject&lt;T, K <span class="keyword">extends</span> keyof <span class="built_in">any</span>, V&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T | K]: P <span class="keyword">extends</span> keyof T ? T[P] : V</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆ, éœ€è¦éå†çš„æ‰€æœ‰å±æ€§åŒ…å«<code>T</code>ä¸­çš„å±æ€§å­—æ®µå’Œæ–°å¢çš„å­—æ®µ<code>K</code>,å³<code>keyof T | K</code>,ç„¶åä½¿ç”¨<code>in</code>å…³é”®å­—è¿›è¡Œéå†æ“ä½œï¼Œå¯¹éå†åˆ°çš„æ¯ä¸ªå±æ€§å­—æ®µä½¿ç”¨<code>extends</code>è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœéå†åˆ°çš„å­—æ®µ<code>P</code>æ˜¯åŸæœ¬<code>T</code>ä¸­å°±å­˜åœ¨çš„å±æ€§å­—æ®µï¼Œåˆ¤æ–­ä¸º<code>true</code>,è¿”å›<code>T[p]</code>;å¦åˆ™ä¸º<code>false</code>,è¯´æ˜è¯¥å±æ€§å­—æ®µä¹‹å‰å¹¶ä¸å­˜åœ¨ï¼Œè¿”å›æ–°å¢å­—æ®µå¯¹åº”çš„ç±»å‹<code>V</code>ã€‚</p>
<h2 id="Merge"><a href="#Merge" class="headerlink" title="Merge"></a><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges/blob/main/questions/00599-medium-merge/README.md">Merge</a></h2><p><code>Merge</code>å°†ä¸¤ä¸ªç±»å‹åˆå¹¶æˆä¸€ä¸ªç±»å‹ï¼Œç¬¬äºŒä¸ªç±»å‹çš„é”®ä¼šè¦†ç›–ç¬¬ä¸€ä¸ªç±»å‹çš„é”®ã€‚</p>
<p><strong>ä½¿ç”¨æ–¹å¼</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> foo = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> coo = &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  sex: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Result = Merge&lt;foo,coo&gt;; <span class="comment">// expected to be &#123;name: string, age: number, sex: string&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>å®ç°æ–¹å¼</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Merge&lt;F, S&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span>  keyof F | keyof S]: P <span class="keyword">extends</span> keyof S ? S[P] : P <span class="keyword">extends</span> keyof F ? F[P] : <span class="built_in">never</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨äº†ä¸¤æ¬¡<code>extends</code>, å†™æˆä¸‹æ–¹è¿™ç§å½¢å¼å¯èƒ½æ›´æ¸…æ¥šä¸€äº›ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Merge&lt;F, S&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span>  keyof F | keyof S]: </span><br><span class="line">    P <span class="keyword">extends</span> keyof S </span><br><span class="line">      ? S[P] </span><br><span class="line">      : (P <span class="keyword">extends</span> keyof F ? F[P] : <span class="built_in">never</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œ<code>AppendToObject</code>ä¸€æ ·ï¼Œé¦–å…ˆç”¨<code>in</code>å…³é”®å­—éå†æ‰€æœ‰çš„å±æ€§å­—æ®µï¼ˆ<code>keyof F | keyof S</code>ï¼‰, åœ¨æ­¤è¿‡ç¨‹ä¸­å¯¹æ¯ä¸€å­—æ®µè¿›è¡Œç›¸åº”åˆ¤æ–­ï¼Œå› ä¸º<code>S</code>ä¸­çš„å¯¹åº”çš„å­—æ®µä¼šå¯¹<code>F</code>ä¸­ç›¸åŒå­—æ®µè¿›è¡Œè¦†ç›–ï¼Œå› æ­¤å…ˆåˆ¤æ–­è¯¥å­—æ®µæ˜¯å¦å±äº<code>S</code>ï¼Œç„¶åå†åˆ¤æ–­è¯¥å­—æ®µæ˜¯å¦å±äº<code>P</code>ã€‚</p>
<p><strong>å‚è€ƒ</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/intro.html">ts handbook</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904066485583885">TypeScript çš„ extends æ¡ä»¶ç±»å‹</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges">type challenges</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/05/TypeScript%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%80%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/05/TypeScript%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%80%EF%BC%89/" class="post-title-link" itemprop="url">TypeScriptç±»å‹ä½“æ“ä¸­çš„å…³é”®å­—è¯¦è§£ï¼ˆä¸€ï¼‰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-06-05 15:31:54" itemprop="dateCreated datePublished" datetime="2022-06-05T15:31:54+08:00">2022-06-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-06-07 15:39:11" itemprop="dateModified" datetime="2022-06-07T15:39:11+08:00">2022-06-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>åœ¨<code>TypeScript</code>ç±»å‹æ“ä½œä¸­<code>typeof</code>å’Œ<code>in</code>ç»å¸¸æ”¾åœ¨ä¸€èµ·ä½¿ç”¨ï¼Œä½¿ç”¨é¢‘ç‡ä¹Ÿå¾ˆé«˜ï¼Œå› æ­¤å°†è¿™ä¸¤ä¸ªå…³é”®å­—æ”¾åœ¨ä¸€èµ·ä»‹ç»ã€‚</p>
<h1 id="keyof"><a href="#keyof" class="headerlink" title="keyof"></a>keyof</h1><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p><code>keyof</code>æ“ä½œç¬¦æ¥å—ä¸€ä¸ªå¯¹è±¡ç±»å‹ä½œä¸ºå‚æ•°ï¼Œè¿”å›è¯¥å¯¹è±¡å±æ€§åç»„æˆçš„<strong>å­—é¢é‡è”åˆç±»å‹</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Dog = &#123; <span class="attr">name</span>: <span class="built_in">string</span>; age: <span class="built_in">number</span>;  &#125;;</span><br><span class="line"><span class="keyword">type</span> D = keyof Dog; <span class="comment">//type D = &quot;name&quot; | &quot;age&quot;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸€äº›é«˜çº§ç±»å‹ä¸­ç»å¸¸ä¼šç”¨åˆ°<code>keyof any</code>, è¿™åˆæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿé¼ æ ‡æ”¾ä¸Šå»çœ‹çœ‹å°±çŸ¥é“äº†<br><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9be56867c675481dbe8711edc957205d~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>å¯ä»¥çœ‹åˆ°<code>keyof any</code> è¿”å›çš„æ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼š<code>string | number | symbol</code>ï¼Œç»“åˆå‰æ–‡è¯´åˆ°<code>keyof</code>æ˜¯ä¸ºäº†å–å¾—å¯¹è±¡çš„<code>key</code>å€¼ç»„æˆçš„è”åˆç±»å‹ï¼Œé‚£ä¹ˆ<code>key</code>å€¼æœ‰å¯èƒ½æ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿè‡ªç„¶å°±æ˜¯<code>string | number | symbol</code>ã€‚</p>
<p>è¯¥å…³é”®å­—ä¸€èˆ¬ä¼šå’Œ<code>extends</code>å…³é”®å­—ç»“åˆä½¿ç”¨ï¼Œå¯¹å¯¹è±¡å±æ€§çš„ç±»å‹åšé™å®šï¼Œæ¯”å¦‚<code>K extends keyof any</code>å°±ä»£è¡¨Kçš„ç±»å‹ä¸€å®šæ˜¯<code>keyof any</code>æ‰€è¿”å›çš„è”åˆç±»å‹çš„å­ç±»ï¼Œå¦‚æœè¾“å…¥ä¸ç¬¦åˆé™å®šï¼Œé‚£ä¹ˆè‡ªç„¶ä¹Ÿå°±ä¸èƒ½ä½œä¸ºå¯¹è±¡çš„å±æ€§ï¼Œç±»å‹ç³»ç»Ÿå°±ä¼šæŠ¥é”™ã€‚</p>
<p>å› æ­¤ï¼Œ<code>keyof any</code> è¡¨ç¤ºäº†å¯¹è±¡<code>key</code>å€¼å¯èƒ½çš„å–å€¼ç±»å‹ã€‚è¿™ä¸€ç‚¹åœ¨æœ¬æ–‡ä¹‹åçš„ä¸€äº›ç±»å‹å®ç°ä¸­ä¹Ÿä¼šç”¨åˆ°ã€‚</p>
<h2 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h2><p><strong>é‡åˆ°ç´¢å¼•ç­¾åæ—¶ï¼Œ<code>typeof</code>ä¼šç›´æ¥è¿”å›å…¶ç±»å‹</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Dog = &#123;  [y:<span class="built_in">number</span>]: <span class="built_in">number</span>  &#125;;</span><br><span class="line"><span class="keyword">type</span> dog = keyof Dog;  <span class="comment">//type dog = number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Doggy = &#123;  [y:<span class="built_in">string</span>]: <span class="built_in">boolean</span> &#125;;</span><br><span class="line"><span class="keyword">type</span> doggy = keyof Doggy; <span class="comment">//type doggy = string | number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Doggy = &#123;  [y:<span class="built_in">string</span>]: unknown, [x:<span class="built_in">number</span>]: <span class="built_in">boolean</span>&#125;;</span><br><span class="line"><span class="keyword">type</span> doggy = keyof Doggy; <span class="comment">//type doggy = string | number</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ç´¢å¼•ç±»å‹ä¸º<code>number</code>æ—¶ï¼Œ<code>keyof</code> è¿”å›çš„ç±»å‹æ˜¯<code>string | number</code>, è¿™æ˜¯å› ä¸º<code>JavaScript</code>çš„å¯¹è±¡å±æ€§ä¼šé»˜è®¤è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p>
<h1 id="in"><a href="#in" class="headerlink" title="in"></a>in</h1><p><code>in</code>çš„å³ä¾§ä¸€èˆ¬ä¼šè·Ÿä¸€ä¸ªè”åˆç±»å‹ï¼Œä½¿ç”¨<code>in</code>æ“ä½œç¬¦å¯ä»¥å¯¹è¯¥è”åˆç±»å‹è¿›è¡Œè¿­ä»£ã€‚<br>å…¶ä½œç”¨ç±»ä¼¼<code>JS</code>ä¸­çš„<code>for...in</code>æˆ–è€…<code>for...of</code></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Animals = <span class="string">&#x27;pig&#x27;</span> | <span class="string">&#x27;cat&#x27;</span> | <span class="string">&#x27;dog&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> animals = &#123;</span><br><span class="line">    [key <span class="keyword">in</span> Animals]: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// type animals = &#123;</span></span><br><span class="line"><span class="comment">//     pig: string; //ç¬¬ä¸€æ¬¡è¿­ä»£</span></span><br><span class="line"><span class="comment">//     cat: string; //ç¬¬äºŒæ¬¡è¿­ä»£</span></span><br><span class="line"><span class="comment">//     dog: string; //ç¬¬ä¸‰æ¬¡è¿­ä»£</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="ç±»å‹æ“ä½œå®æˆ˜"><a href="#ç±»å‹æ“ä½œå®æˆ˜" class="headerlink" title="ç±»å‹æ“ä½œå®æˆ˜"></a>ç±»å‹æ“ä½œå®æˆ˜</h1><h2 id="Partial-amp-Required"><a href="#Partial-amp-Required" class="headerlink" title="Partial &amp; Required"></a>Partial &amp; Required</h2><p><code>Partial</code>ï¼šå°†æŸä¸ªç±»å‹é‡Œçš„å±æ€§å…¨éƒ¨å˜ä¸ºå¯é€‰é¡¹</p>
<p>æ€è·¯æ˜¯é€šè¿‡æ³›å‹ä¼ å…¥å¾…å¤„ç†ç±»å‹ï¼Œå…ˆç”¨<code>keyof</code>å–åˆ°æ‰€ç»™ç±»å‹æ‰€æœ‰å±æ€§ç»„æˆçš„å­—é¢é‡è”åˆç±»å‹ï¼Œç„¶åä½¿ç”¨<code>in</code>è¿›è¡Œéå†ï¼ŒåŒæ—¶ç»“åˆ <code>?</code>æ“ä½œç¬¦ï¼Œå°†æ¯ä¸ªå±æ€§å˜æˆå¯é€‰çš„</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Partial&lt;T&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> keyof T]?: T[P]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>[P in keyof T]</code>è¿™æ®µä»£ç è¡¨ç¤ºéå†<code>T</code>ä¸­çš„æ¯ä¸€ä¸ªå±æ€§,é‚£ä¹ˆ<code>T[P]</code>å°±æ˜¯æ¯ä¸ªå±æ€§æ‰€å¯¹åº”çš„å€¼ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºå‰è€…å–çš„æ˜¯é”®<code>key</code>ï¼Œåè€…å–çš„æ˜¯å€¼<code>value</code></p>
<p><code>Required</code>ï¼šå’Œ<code>Partial</code>çš„ä½œç”¨ç›¸åï¼Œæ˜¯ä¸ºäº†å°†æŸä¸ªç±»å‹é‡Œçš„å±æ€§å…¨éƒ¨å˜ä¸ºå¿…é€‰çš„</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Props &#123;</span><br><span class="line">  a?: <span class="built_in">number</span>;</span><br><span class="line">  b?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> obj: Props = &#123; <span class="attr">a</span>: <span class="number">5</span> &#125;; <span class="comment">// bæ˜¯å¯é€‰çš„ï¼Œå› æ­¤ç¼ºå°‘è¿™ä¸ªå±æ€§ä¹Ÿå¯ä»¥</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> obj2: Required&lt;Props&gt; = &#123; <span class="attr">a</span>: <span class="number">5</span> &#125;;  <span class="comment">// é€šè¿‡Requiredå°†å±æ€§å˜ä¸ºå¿…é€‰çš„ï¼Œç­‰å·å³è¾¹å¯¹è±¡ç¼ºå°‘è¿™ä¸ªå±æ€§ï¼Œå› æ­¤èµ‹å€¼å¤±è´¥</span></span><br><span class="line"><span class="comment">//Property &#x27;b&#x27; is missing in type &#x27;&#123; a: number; &#125;&#x27; but required in type &#x27;Required&lt;Props&gt;&#x27;.</span></span><br></pre></td></tr></table></figure>

<p>å®ç°æ€è·¯å’Œå‰é¢ç›¸ä¼¼</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Partial&lt;T&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> keyof T]-?: T[P]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šæ–‡å¯¹åº”çš„<code>-ï¼Ÿ</code>ä»£è¡¨ç€å»æ‰å¯é€‰ï¼Œä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰<code>+ï¼Ÿ</code>ï¼Œä¸¤è€…æ­£å¥½ç›¸å</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/06/promise%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/06/promise%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-06 16:17:18" itemprop="dateCreated datePublished" datetime="2022-05-06T16:17:18+08:00">2022-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-05-16 14:21:13" itemprop="dateModified" datetime="2022-05-16T14:21:13+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>promiseè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3><p>ä¸»è¦æ˜¯å›è°ƒåµŒå¥—å’Œæ§åˆ¶åè½¬</p>
<p><strong>å›è°ƒåµŒå¥—</strong></p>
<p>åµŒå¥—å’Œç¼©è¿›åªæ˜¯æ ¼å¼å±‚é¢çš„é—®é¢˜ï¼Œæ·±å±‚æ¬¡é—®é¢˜æ˜¯ä»£ç éš¾ä»¥å¤ç”¨ã€å †æ ˆä¿¡æ¯æ–­å¼€ã€å¼•ç”¨å¤–å±‚å˜é‡</p>
<ul>
<li><p>ä»£ç éš¾ä»¥å¤ç”¨</p>
<blockquote>
<p>å›è°ƒä¸­å¼•ç”¨äº†å¤–å±‚å˜é‡ï¼Œæå–å‡ºæ¥åéœ€è¦è¿›è¡Œç›¸åº”ä¿®æ”¹</p>
</blockquote>
</li>
<li><p>å †æ ˆä¿¡æ¯æ–­å¼€</p>
<blockquote>
<p>å¼‚æ­¥å›è°ƒå‡½æ•°æ‰§è¡Œæ—¶å°†å›è°ƒå‡½æ•°æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œä»£ç ç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°ä¸»çº¿ç¨‹å®Œæˆï¼Œç„¶åæ‰ä¼šä»ä»»åŠ¡é˜Ÿåˆ—ä¸­é€‰æ‹©å·²ç»å®Œæˆçš„ä»»åŠ¡æ”¾å…¥æ‰§è¡Œæ ˆä¸­ï¼Œå¦‚æœå›è°ƒæŠ¥é”™ï¼Œæ— æ³•è·å–è°ƒç”¨è¯¥å¼‚æ­¥æ“ä½œæ—¶çš„æ ˆä¸­çš„ä¿¡æ¯ï¼Œä¸å®¹æ˜“åˆ¤å®šå“ªé‡Œå‡ºç°äº†é”™è¯¯ã€‚</p>
</blockquote>
</li>
<li><p>å€ŸåŠ©å¤–å±‚å˜é‡</p>
<blockquote>
<p>å¤šä¸ªå¼‚æ­¥è®¡ç®—åŒæ—¶è¿›è¡Œï¼Œç”±äºæ— æ³•é¢„æœŸå®Œæˆé¡ºåºï¼Œå¿…é¡»å€ŸåŠ©å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡ï¼Œå¯èƒ½è¢«å…¶å®ƒåŒä¸€ä½œç”¨åŸŸçš„å‡½æ•°è®¿é—®å¹¶ä¸”ä¿®æ”¹ï¼Œå®¹æ˜“é€ æˆè¯¯æ“ä½œã€‚</p>
</blockquote>
</li>
</ul>
<p><strong>æ§åˆ¶åè½¬</strong></p>
<p>ä½¿ç”¨ç¬¬ä¸‰æ–¹apiï¼Œå›è°ƒå‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°ã€æ˜¯å¦æ‰§è¡Œã€æ‰§è¡Œæ—¶æœºéƒ½å–å†³äºç¬¬ä¸‰æ–¹åº“çš„å®ç°</p>
<ol>
<li>å›è°ƒå‡½æ•°æ‰§è¡Œå¤šæ¬¡      ===&gt;  promiseåªèƒ½resolveä¸€æ¬¡</li>
<li>å›è°ƒå‡½æ•°æ²¡æœ‰æ‰§è¡Œ   ===&gt; ä½¿ç”¨Promise.raceåˆ¤æ–­</li>
<li>å›è°ƒå‡½æ•°æœ‰æ—¶åŒæ­¥æ‰§è¡Œæœ‰æ—¶å¼‚æ­¥æ‰§è¡Œ  ===&gt; promiseæ€»æ˜¯å¼‚æ­¥çš„</li>
</ol>
<h4 id="async-awaitçš„é—®é¢˜"><a href="#async-awaitçš„é—®é¢˜" class="headerlink" title="async  awaitçš„é—®é¢˜"></a>async  awaitçš„é—®é¢˜</h4><p><strong>åœºæ™¯ä¸€ï¼šç»„åˆå¤šä¸ªpromsie</strong></p>
<p>awaitå…³é”®å­—æ˜¯ä¸²è¡Œçš„ï¼Œæƒ³è¦åŒæ—¶è·å–å¤šä¸ªpromiseçš„ç»“æœï¼Œéœ€è¦ç”¨promiseçš„apiè¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚promise.all</p>
<p><strong>åœºæ™¯äºŒï¼šå­˜å‚¨promsieçš„å€¼</strong></p>
<p>async/await æ˜¯è¯­æ³•ï¼Œä¸æ˜¯å€¼ï¼Œå› æ­¤å®ƒä¸èƒ½è¢«å­˜å‚¨å’Œä¼ é€’ã€‚è€Œ promise å¯¹è±¡ï¼Œ<strong>å¯ä»¥å­˜å‚¨åœ¨å†…å­˜é‡Œï¼Œå¯ä»¥ä½œä¸ºå‚æ•°åœ¨å‡½æ•°ä¸­ä¼ é€’ã€‚</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d2f69064fa2a4c2cba1655b7318515fa~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>å»ºç«‹urlåˆ°promiseæ˜ å°„ï¼Œé€šè¿‡async/awaitè¯­æ³•éšè—äº†promiseå¯¹è±¡ï¼Œé¡¶å¤šå»ºç«‹urlåˆ°resultçš„ç¼“å­˜ï¼Œä½†æ˜¯å½“é¡µé¢ä¸Šå‘å‡ºgetè¯·æ±‚ï¼Œç»“æœæœªæŠµè¾¾ï¼Œä½†æ˜¯åˆè§¦å‘äº†å¤šä¸ªç›¸åŒè¯·æ±‚çš„è¯å°±æ— æ³•å‘½ä¸­resultç¼“å­˜ï¼Œå¦‚æœç¼“å­˜çš„æ˜¯promiseçš„å¯¹è±¡ï¼Œå°±å¯ä»¥å°†åŒä¸€ä¸ªpromiseè¿”å›ï¼Œåˆ©ç”¨promiseå¯¹è±¡å¯ä»¥å¤šæ¬¡è°ƒç”¨thenæ–¹æ³•çš„ç‰¹æ€§ï¼Œè®©æ‰€æœ‰ç›¸åŒçš„getè¯·æ±‚è·å¾—åŒä¸€ä¸ªå¼‚æ­¥è¯·æ±‚ç»“æœã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/05/promise%E7%9A%84%E4%B8%80%E4%BA%9Bapi%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/05/promise%E7%9A%84%E4%B8%80%E4%BA%9Bapi%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/" class="post-title-link" itemprop="url">promiseçš„ä¸€äº›apiçš„åº”ç”¨åœºæ™¯</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-05 17:20:01" itemprop="dateCreated datePublished" datetime="2022-05-05T17:20:01+08:00">2022-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-05-16 14:20:51" itemprop="dateModified" datetime="2022-05-16T14:20:51+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a>Promise.all</h4><p>æ‰€æœ‰çš„ promsie éƒ½resolveæ—¶ï¼Œ è¿”å›å­˜å‚¨ç»“æœçš„æ•°ç»„ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªpromise   rejectï¼Œé‚£ä¹ˆä¼šå¿½ç•¥å‰©ä½™promise çš„ç»“æœï¼Œå“ªæ€•å…¶ä»–promiseéƒ½resolvedï¼Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªpromise  rejected, å…¶errorä¼šå˜æˆæ•´ä¸ª <code>Promise.all</code>çš„ç»“æœ, å·²ç»resolved çš„ç»“æœä¼šè¢«å¿½ç•¥ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>
<p><strong>åˆå¹¶è¯·æ±‚ç»“æœ</strong></p>
<blockquote>
<p>å…·ä½“æè¿°ï¼šä¸€ä¸ªé¡µé¢ï¼Œæœ‰å¤šä¸ªè¯·æ±‚ï¼Œæˆ‘ä»¬éœ€æ±‚æ‰€æœ‰çš„è¯·æ±‚éƒ½è¿”å›æ•°æ®åå†ä¸€èµ·å¤„ç†æ¸²æŸ“</p>
</blockquote>
<p>ä¸éœ€è¦ä¸ºæ¯ä¸ªè¯·æ±‚éƒ½è®¾ç½®loadingçŠ¶æ€ï¼Œä»è¯·æ±‚å¼€å§‹åˆ°è¯·æ±‚ç»“æŸï¼Œåªéœ€è¦è®¾ç½®ä¸€ä¸ªloadingçŠ¶æ€</p>
<p>å¯èƒ½çš„åœºæ™¯ï¼šç‚¹å‡»æŒ‰é’®ï¼Œè·³å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå¯¹è¯æ¡†ä¸­æ˜¾ç¤ºä¸¤éƒ¨åˆ†æ•°æ®ï¼Œæ¥è‡ªä¸¤ä¸ªä¸åŒçš„apiæ¥å£ï¼Œå½“è¿™ä¸¤éƒ¨åˆ†æ•°æ®éƒ½ä»æ¥å£è·å–åˆ°çš„æ—¶å€™ï¼Œæ‰è®©è¿™ä¸ª <code>æ•°æ®åŠ è½½ä¸­</code>çŠ¶æ€æ¶ˆå¤±ã€‚è®©ç”¨æˆ·çœ‹åˆ°è¿™ä¸¤éƒ¨åˆ†çš„æ•°æ®ã€‚</p>
<p><strong>åˆå¹¶è¯·æ±‚ç»“æœå¹¶å¤„ç†é”™è¯¯</strong></p>
<blockquote>
<p><strong>å•ç‹¬å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„æ•°æ®æ¸²æŸ“å’Œé”™è¯¯å¤„ç†é€»è¾‘</strong>ï¼Œæœ‰å¤šä¸ªè¯·æ±‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initLoad</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// loading.show()</span></span><br><span class="line">    <span class="built_in">Promise</span>.all([</span><br><span class="line">        getBannerList().catch(<span class="function"><span class="params">err</span>=&gt;</span>err),</span><br><span class="line">        getStoreList().catch(<span class="function"><span class="params">err</span>=&gt;</span>err),</span><br><span class="line">        getCategoryList().catch(<span class="function"><span class="params">err</span>=&gt;</span>err)</span><br><span class="line">    ]).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res) <span class="comment">// [&quot;è·å–è½®æ’­å›¾æ•°æ®å¤±è´¥å•¦&quot;, &quot;åº—é“ºæ•°æ®&quot;, &quot;åˆ†ç±»æ•°æ®&quot;]</span></span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span>(res[<span class="number">0</span>] == <span class="string">&#x27;è½®æ’­å›¾æ•°æ®&#x27;</span>)&#123;</span><br><span class="line">            <span class="comment">//æ¸²æŸ“</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//è·å– è½®æ’­å›¾æ•°æ® å¤±è´¥çš„é€»è¾‘</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(res[<span class="number">1</span>] == <span class="string">&#x27;åº—é“ºæ•°æ®&#x27;</span>)&#123;</span><br><span class="line">            <span class="comment">//æ¸²æŸ“</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//è·å– åº—é“ºåˆ—è¡¨æ•°æ® å¤±è´¥çš„é€»è¾‘</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(res[<span class="number">2</span>] == <span class="string">&#x27;åˆ†ç±»æ•°æ®&#x27;</span>)&#123;</span><br><span class="line">            <span class="comment">//æ¸²æŸ“</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">             <span class="comment">//è·å– åˆ†ç±»åˆ—è¡¨æ•°æ® å¤±è´¥çš„é€»è¾‘</span></span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="comment">// loading.hide()</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè€ƒè™‘ä½¿ç”¨Promise.allSettledä¹Ÿå¯ä»¥ã€‚</p>
<p><strong>éªŒè¯å¤šä¸ªè¯·æ±‚ç»“æœæ˜¯å¦éƒ½æ»¡è¶³æ¡ä»¶</strong></p>
<blockquote>
<p>å…·ä½“æè¿°ï¼šè¡¨å•çš„è¾“å…¥å†…å®¹å®‰å…¨éªŒè¯ï¼Œå¤šä¸ªå­—æ®µè°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªå†…å®¹å®‰å…¨æ ¡éªŒæ¥å£ï¼Œåªæœ‰æ‰€æœ‰éƒ½æ£€éªŒé€šè¿‡å¤Ÿæ‰èƒ½å¤Ÿæ­£å¸¸æäº¤ã€‚</p>
</blockquote>
<h4 id="Promise-race"><a href="#Promise-race" class="headerlink" title="Promise.race"></a>Promise.race</h4><p>è¯·æ±‚è¶…æ—¶æç¤ºï¼š<strong>ç‚¹å‡»æŒ‰é’®å‘è¯·æ±‚ï¼Œå½“åç«¯çš„æ¥å£è¶…è¿‡ä¸€å®šæ—¶é—´ï¼Œå‡è®¾è¶…è¿‡ä¸‰ç§’ï¼Œæ²¡æœ‰è¿”å›ç»“æœï¼Œæˆ‘ä»¬å°±æç¤ºç”¨æˆ·è¯·æ±‚è¶…æ—¶</strong>ï¼Œä¾‹å¦‚è¯·æ±‚ä¸€å¼ å›¾ç‰‡æ—¶è¶…æ—¶æç¤º</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/04/%E4%BD%BF%E7%94%A8transform%E5%B1%9E%E6%80%A7%E8%A7%A3%E5%86%B31px%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/04/%E4%BD%BF%E7%94%A8transform%E5%B1%9E%E6%80%A7%E8%A7%A3%E5%86%B31px%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">ä½¿ç”¨transformå±æ€§è§£å†³1pxé—®é¢˜</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-04 14:14:59" itemprop="dateCreated datePublished" datetime="2022-05-04T14:14:59+08:00">2022-05-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-05-16 14:16:04" itemprop="dateModified" datetime="2022-05-16T14:16:04+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="é—®é¢˜æ¥æº"><a href="#é—®é¢˜æ¥æº" class="headerlink" title="é—®é¢˜æ¥æº"></a>é—®é¢˜æ¥æº</h2><p><code>px</code>æ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œå¹¶ä¸æ˜¯è¯´<code>1px</code>å°±ä¸€å®šç­‰äº1ä¸ªç‰©ç†åƒç´ ï¼Œè®¾å¤‡åƒç´ æ¯”ä¸åŒï¼Œ<code>1px</code>å¯¹åº”çš„ç‰©ç†åƒç´ æ•°é‡ä¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸åŒè®¾å¤‡ã€ä¸åŒåˆ†è¾¨ç‡çš„æƒ…å†µä¸‹ï¼Œ<code>1px</code>æ‰€ä»£è¡¨çš„ç‰©ç†åƒç´ æ•°é‡ä¸ä¸€æ ·ï¼Œå› æ­¤<code>1px</code>åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„å®½åº¦ä¹Ÿä¸ä¸€æ ·ã€‚</p>
<h2 id="è®¾å¤‡åƒç´ ã€cssåƒç´ ã€è®¾å¤‡ç‹¬ç«‹åƒç´ ã€è®¾å¤‡åƒç´ æ¯”"><a href="#è®¾å¤‡åƒç´ ã€cssåƒç´ ã€è®¾å¤‡ç‹¬ç«‹åƒç´ ã€è®¾å¤‡åƒç´ æ¯”" class="headerlink" title="è®¾å¤‡åƒç´ ã€cssåƒç´ ã€è®¾å¤‡ç‹¬ç«‹åƒç´ ã€è®¾å¤‡åƒç´ æ¯”"></a>è®¾å¤‡åƒç´ ã€cssåƒç´ ã€è®¾å¤‡ç‹¬ç«‹åƒç´ ã€è®¾å¤‡åƒç´ æ¯”</h2><p><strong>è®¾å¤‡åƒç´ </strong>ï¼šè®¾å¤‡åƒç´ åˆç§°ç‰©ç†åƒç´ ï¼Œæ˜¯è®¾å¤‡èƒ½å¤Ÿæ§åˆ¶æ˜¾ç¤ºçš„æœ€å°ç‰©ç†å•ä½</p>
<p><strong>cssåƒç´ </strong>ï¼špxæ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„æ˜¯è®¾å¤‡åƒç´ ï¼ˆdevice pixelï¼‰ä¸€èˆ¬æƒ…å†µï¼Œé¡µé¢ç¼©æ”¾æ¯”ä¸º1ï¼Œ1ä¸ªCSSåƒç´ ç­‰äº1ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ </p>
<p><strong>è®¾å¤‡ç‹¬ç«‹åƒç´ </strong>ï¼šä¸è®¾å¤‡æ— å…³çš„é€»è¾‘åƒç´ ï¼Œä»£è¡¨å¯ä»¥é€šè¿‡ç¨‹åºæ§åˆ¶ä½¿ç”¨çš„è™šæ‹Ÿåƒç´ ï¼Œæ˜¯ä¸€ä¸ªæ€»ä½“æ¦‚å¿µï¼ŒåŒ…æ‹¬äº†CSSåƒç´ ï¼Œè€Œè‡³äº1ä¸ªè™šæ‹Ÿåƒç´ ç©¶ç«Ÿå¯¹åº”å‡ ä¸ªç‰©ç†åƒç´ ï¼Œå°±è®¾è®¡è®¾å¤‡åƒç´ æ¯”ï¼ˆdevice pixel ratioï¼‰</p>
<p><strong>è®¾å¤‡åƒç´ æ¯”</strong>ï¼š<code>DPR = è®¾å¤‡åƒç´ /è®¾å¤‡ç‹¬ç«‹åƒç´ </code></p>
<p>å½“è®¾å¤‡åƒç´ æ¯”ä¸º1:1æ—¶ï¼Œä½¿ç”¨1ï¼ˆ1Ã—1ï¼‰ä¸ªè®¾å¤‡åƒç´ æ˜¾ç¤º1ä¸ªCSSåƒç´ </p>
<p>å½“è®¾å¤‡åƒç´ æ¯”ä¸º2:1æ—¶ï¼Œä½¿ç”¨4ï¼ˆ2Ã—2ï¼‰ä¸ªè®¾å¤‡åƒç´ æ˜¾ç¤º1ä¸ªCSSåƒç´ </p>
<p>å½“è®¾å¤‡åƒç´ æ¯”ä¸º3:1æ—¶ï¼Œä½¿ç”¨9ï¼ˆ3Ã—3ï¼‰ä¸ªè®¾å¤‡åƒç´ æ˜¾ç¤º1ä¸ªCSSåƒç´ </p>
<blockquote>
<p>è®¾å¤‡åƒç´ æ¯”å¯é€šè¿‡<code>window.devicePixelRatio</code>æŸ¥è¯¢</p>
</blockquote>
<h2 id="å®ç°ä¸€æ¡1pxçš„çº¿"><a href="#å®ç°ä¸€æ¡1pxçš„çº¿" class="headerlink" title="å®ç°ä¸€æ¡1pxçš„çº¿"></a>å®ç°ä¸€æ¡1pxçš„çº¿</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;A&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>


<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.A</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">-webkit-min-device-ratio</span>: <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="selector-class">.A</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0.5</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">-webkit-min-device-ration</span>: <span class="number">3</span>) &#123;</span><br><span class="line">  <span class="selector-class">.A</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0.333</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>transform</code>ä¸­çš„<code>scale</code>å­—æ®µèƒ½å¤Ÿå¯¹å…ƒç´ è¿›è¡Œç¼©æ”¾ï¼Œå½“<code>dpr=2</code>æ—¶ï¼Œï¼ˆ2 * 2ï¼‰ä¸ªç‰©ç†åƒç´ å¯¹åº”1ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œå› æ­¤<code>scale(0.5, 0.5)</code>ä»£è¡¨å°†<code>1px</code>ç¼©æ”¾ä¸ºåŸæœ¬çš„0.5å€ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†å’Œ<code>dpr=1</code>çš„è®¾å¤‡ä¸Šæ˜¾ç¤ºä¸€æ ·å®½çš„<code>1px</code></p>
<p>é€šè¿‡<code>åª’ä½“æŸ¥è¯¢</code>é’ˆå¯¹ä¸åŒdprè¿›è¡Œä¸åŒçš„ç¼©æ”¾ï¼Œä¿æŒå„è®¾å¤‡æ˜¾ç¤ºçš„ä¸€è‡´æ€§</p>
<h2 id="å®ç°ä¸€åƒç´ çš„è¾¹æ¡†"><a href="#å®ç°ä¸€åƒç´ çš„è¾¹æ¡†" class="headerlink" title="å®ç°ä¸€åƒç´ çš„è¾¹æ¡†"></a>å®ç°ä¸€åƒç´ çš„è¾¹æ¡†</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;target&quot;</span>&gt;</span>12345<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.target</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.target</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#bfbfbf</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">-webkit-min-device-pixel-ratio</span>: <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="selector-class">.target</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>,<span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>,<span class="number">0.5</span>);</span><br><span class="line">    -webkit-<span class="attribute">transform-origin</span>: top left;</span><br><span class="line">    <span class="attribute">transform-origin</span>: left top;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">-webkit-min-device-pixel-ratio</span>: <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="selector-class">.target</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.33</span>,<span class="number">0.333</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.333</span>,<span class="number">0.333</span>);</span><br><span class="line">    -webkit-<span class="attribute">transform-origin</span>: top left;</span><br><span class="line">    <span class="attribute">transform-origin</span>: left top;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong><code>transform-origin</code></strong> CSSå±æ€§ç”¨äºæ›´æ”¹ä¸€ä¸ªå…ƒç´ å˜å½¢çš„åŸç‚¹ã€‚é»˜è®¤åŸç‚¹æ˜¯å…ƒç´ æ—‹è½¬ä¸­å¿ƒã€‚</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/02/%E7%90%86%E6%B8%85TypeScript%E4%B8%ADinterface%E4%B8%8Etype%E7%9A%84%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/02/%E7%90%86%E6%B8%85TypeScript%E4%B8%ADinterface%E4%B8%8Etype%E7%9A%84%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">ç†æ¸…TypeScriptä¸­interfaceä¸typeçš„åŒºåˆ«</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-02 14:07:49" itemprop="dateCreated datePublished" datetime="2022-05-02T14:07:49+08:00">2022-05-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-05-16 14:09:11" itemprop="dateModified" datetime="2022-05-16T14:09:11+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="å®˜æ–¹æè¿°"><a href="#å®˜æ–¹æè¿°" class="headerlink" title="å®˜æ–¹æè¿°"></a>å®˜æ–¹æè¿°</h2><blockquote>
<p>Type aliases and interfaces are very similar, and in many cases you can choose between them freely. Almost all features of an <code>interface</code> are available in <code>type</code>, the key distinction is that a type cannot be re-opened to add new properties vs an interface which is always extendable.</p>
</blockquote>
<p>ä»ä¸Šé¢è¿™æ®µè¯ä¸­æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼š</p>
<ul>
<li>  å‡ ä¹<code>interface</code>çš„æ‰€æœ‰ç‰¹æ€§éƒ½å¯ä»¥ç”¨<code>type</code>å®ç°</li>
<li>  <code>interface</code>å¯ä»¥æ·»åŠ æ–°çš„å±æ€§ï¼Œæ˜¯å¯æ‰©å±•çš„</li>
</ul>
<h2 id="åŒºåˆ«ä¸€"><a href="#åŒºåˆ«ä¸€" class="headerlink" title="åŒºåˆ«ä¸€"></a>åŒºåˆ«ä¸€</h2><p>é’ˆå¯¹ç¬¬ä¸€ç‚¹ï¼Œå‚è€ƒå®˜æ–¹å¯¹<code>interface</code>ä¸<code>type</code>çš„æè¿°ï¼š</p>
<blockquote>
<ul>
<li>  Interfaces are basically a way to describe data shapes, for example, an object.</li>
<li>  Type is a definition of a type of data, for example, a union, primitive, intersection, tuple, or any other type.</li>
</ul>
</blockquote>
<p><code>interface</code>ç”¨æ¥æè¿°æ•°æ®çš„å½¢çŠ¶ï¼ˆdata shapesï¼‰</p>
<blockquote>
<p>è‡³äºä»€ä¹ˆæ˜¯æ•°æ®çš„å½¢çŠ¶å‘¢ï¼Ÿ ä¾‹å¦‚äºŒå‰æ ‘ä¸­æ•°æ®ä»¥åˆ†å±‚çš„å½¢å¼æ’å¸ƒï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šç”±ä¸¤ä¸ªå­å…ƒç´ ï¼›åœ¨é“¾è¡¨ä¸­ï¼Œæ•°æ®ä»¥é“¾å¼å­˜å‚¨ï¼Œé¡ºåºå¸ƒå±€ï¼Œè¿™ä¾¿æ˜¯<code>data shapes</code>ï¼Œç»“åˆæ•°æ®æœ¬èº«ï¼Œä»¥åŠä¿ç•™<code>data shapes</code>çš„ç›¸å…³æ“ä½œï¼ˆå¯¹äºé“¾è¡¨æ¥è¯´å°±æ˜¯å¯¹é“¾è¡¨èŠ‚ç‚¹çš„æ·»åŠ ã€åˆ é™¤ç­‰ï¼Œä¸ç ´ååŸæœ‰ç»“æ„ï¼‰ï¼Œè¿™ä¸‰è€…å°±ç»„æˆäº†æ•°æ®ç»“æ„ã€‚</p>
</blockquote>
<p><code>type</code>æ˜¯æ•°æ®ç±»å‹çš„å®šä¹‰ï¼Œå¦‚<strong>è”åˆç±»å‹ï¼ˆA |ï¼¢ï¼‰</strong> ã€<strong>åŸºæœ¬ç±»å‹</strong>ã€<strong>äº¤å‰ç±»å‹ï¼ˆï¼¡ï¼†B</strong>ï¼‰ã€<strong>å…ƒç»„</strong>ç­‰ï¼Œæ­¤å¤–type è¯­å¥ä¸­è¿˜å¯ä»¥ä½¿ç”¨ <code>typeof</code>è·å–å®ä¾‹çš„ç±»å‹è¿›è¡Œèµ‹å€¼ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œ**<code>interface</code>å³è¾¹å¿…é¡»æ˜¯ <code>data shapes</code>, è€Œ<code>type</code>å³è¾¹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ã€‚**</p>
<blockquote>
<p>å¼€å¤´æåˆ°<code>interface</code>æ˜¯å¯æ‰©å±•çš„çš„ï¼Œä¹Ÿæ˜¯å¾—ç›Šäºå£°æ˜åˆå¹¶ï¼Œè€Œ<code>type</code>è™½ç„¶é€šè¿‡<code>extends</code>å¯ä»¥è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœï¼Œä½†è°ˆä¸ä¸Šå¯æ‰©å±•ã€‚å®˜æ–¹æè¿°ä¸­ä¹Ÿæåˆ°:</p>
<p><code>the key distinction is that a type cannot be re-opened to add new properties vs an interface which is always extendable.</code></p>
</blockquote>
<h2 id="åŒºåˆ«äºŒ"><a href="#åŒºåˆ«äºŒ" class="headerlink" title="åŒºåˆ«äºŒ"></a>åŒºåˆ«äºŒ</h2><p>é’ˆå¯¹ç¬¬äºŒç‚¹ï¼Œ<code>interface</code>æ”¯æŒå£°æ˜åˆå¹¶ï¼ˆ<code>declaration merging</code>ï¼‰ï¼Œ<code>type alias</code>ä¸æ”¯æŒã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆå¹¶ä¸º:interface Person &#123; name: string age: number&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">type</span> User = &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// error: Duplicate identifier &#x27;User&#x27;.</span></span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸»è¦æœ‰ä¸¤ç‚¹åŒºåˆ«ï¼š</p>
<ol>
<li> <code>interface</code>å³è¾¹åªèƒ½æ˜¯<code>data shapes</code>,è€Œ<code>type</code>å³è¾¹æ¶µç›–çš„èŒƒå›´æ›´å¤§ï¼Œè¿˜å¯ä»¥æ˜¯<strong>è”åˆç±»å‹ï¼ˆA |ï¼¢ï¼‰</strong> ã€<strong>åŸºæœ¬ç±»å‹</strong>ã€<strong>äº¤å‰ç±»å‹ï¼ˆï¼¡ï¼†B</strong>ï¼‰ã€<strong>å…ƒç»„</strong>ç­‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>typeof</code></li>
<li> <code>interface</code>æ”¯æŒå£°æ˜åˆå¹¶ï¼Œ<code>type</code>ä¸æ”¯æŒå£°æ˜åˆå¹¶ã€‚</li>
</ol>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#interfaces">TS Handbook</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/01/TS%E4%B8%ADnever%E7%B1%BB%E5%9E%8B%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/01/TS%E4%B8%ADnever%E7%B1%BB%E5%9E%8B%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%EF%BC%9F/" class="post-title-link" itemprop="url">TSä¸­neverç±»å‹æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-01 14:00:00" itemprop="dateCreated datePublished" datetime="2022-05-01T14:00:00+08:00">2022-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-05-16 14:06:07" itemprop="dateModified" datetime="2022-05-16T14:06:07+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="bottom-type"><a href="#bottom-type" class="headerlink" title="bottom type"></a>bottom type</h2><p>é¦–å…ˆ, <code>never</code>æ˜¯ä¸€ä¸ª<code>bottom type</code>ï¼Œè¿™å¦‚ä½•ä½“ç°å‘¢ï¼Ÿ</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bbd87a8db7f54de889e3ef83dd13e46f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br><strong>æ³¨</strong>ï¼šâœ…è¡¨ç¤º <code>strictNullChecks</code> ä¸º<strong>false</strong>æ—¶çš„æƒ…å†µ</p>
<p><code>never</code>å’Œ<code>unknown</code>æœç€ä¸¤ä¸ªç›¸åçš„æ–¹å‘è¡Œè¿›ï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½å¯ä»¥èµ‹å€¼ç»™<code>unknown</code>, <code>never</code>å¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼›<code>unknown</code>ä¸èƒ½èµ‹å€¼ç»™é™¤anyå’Œè‡ªèº«ä¹‹å¤–çš„ä»»ä½•ç±»å‹ï¼Œé™¤<code>never</code>æœ¬èº«å¤–ï¼Œä»»ä½•ç±»å‹éƒ½ä¸èƒ½èµ‹å€¼ç»™<code>never</code></p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ol>
<li><p><strong>ç”¨äºä»æ¥ä¸ä¼šè¿”å›å€¼çš„å‡½æ•°</strong></p>
<p> è¿™å¯èƒ½æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯å‡½æ•°ä¸­å¯èƒ½æ­»å¾ªç¯</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loop</span>(<span class="params"></span>):<span class="title">never</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;I always does something and never ends.&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> å¦å¤–ä¸€ç§æƒ…å†µå°±æ˜¯è¿™ä¸ªå‡½æ•°æ€»æ˜¯ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œå› æ­¤ä¹Ÿæ€»æ˜¯æ²¡æœ‰è¿”å›å€¼</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loop</span>(<span class="params"></span>):<span class="title">never</span> </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;error!&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>ç©·å°½æ£€æŸ¥ï¼ˆExhaustiveness checkingï¼‰</strong></p>
<p> å¯¹äºä¸€ä¸ªè”åˆç±»å‹ï¼Œå°†å…¶ç±»å‹æ”¶çª„ä¸º<code>never</code></p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface Foo &#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;foo&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">interface Bar &#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">type All = Foo | Bar</span><br></pre></td></tr></table></figure>

 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleValue</span>(<span class="params">val: All</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (val.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;foo&#x27;</span>:</span><br><span class="line">      <span class="comment">// è¿™é‡Œ val è¢«æ”¶çª„ä¸º Foo</span></span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;bar&#x27;</span>:</span><br><span class="line">      <span class="comment">// val åœ¨è¿™é‡Œæ˜¯ Bar</span></span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="comment">// val åœ¨è¿™é‡Œæ˜¯ never</span></span><br><span class="line">      <span class="keyword">const</span> exhaustiveCheck: never = val</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> é€šè¿‡case å¯¹å¯èƒ½çš„ç±»å‹è¿›è¡Œäº†ç›¸åº”å¤„ç†ï¼Œå› æ­¤<code>default</code>å¤„<code>val</code>çš„ç±»å‹æ˜¯<code>never</code>ï¼Œè¿™ä¹Ÿä½“ç°äº†<code>never</code>æ˜¯ä¸€ä¸ªåº•å±‚ç±»å‹ï¼š<code>never</code>åªèƒ½èµ‹å€¼ç»™<code>never</code>ã€‚å¦‚æœä¹‹åè”åˆç±»å‹<code>All</code>ä¸­æ·»åŠ äº†æ–°çš„ç±»å‹ï¼Œä½†æ˜¯åœ¨ä»£ç ä¸­å¿˜è®°è¿›è¡Œç›¸åº”å¤„ç†ï¼Œé‚£ä¹ˆå°±èƒ½æå‰æš´éœ²å¤„é”™è¯¯ï¼Œæé†’å¼€å‘è€…è¿›è¡Œå¤„ç†ã€‚</p>
<h2 id="neverå’Œvoidçš„åŒºåˆ«"><a href="#neverå’Œvoidçš„åŒºåˆ«" class="headerlink" title="neverå’Œvoidçš„åŒºåˆ«"></a>neverå’Œvoidçš„åŒºåˆ«</h2><ol>
<li><p>ä»èµ‹å€¼çš„è§’åº¦æ¥çœ‹ï¼Œ<code>undefined</code>å¯ä»¥èµ‹å€¼ç»™<code>void</code>ç±»å‹çš„å˜é‡ï¼Œé™¤äº†<code>never</code>æœ¬èº«ï¼Œä»»ä½•å€¼éƒ½ä¸èƒ½èµ‹å€¼ç»™<code>never</code>ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´<code>never</code>æ„å‘³ç€æ²¡æœ‰ä»»ä½•å€¼ã€‚</p>
<blockquote>
<p>æ³¨ï¼š<strong>strictNullChecks</strong>ä¸º<code>false</code>æ—¶ï¼Œ<code>null</code>ç±»å‹ä¹Ÿæ˜¯å¯ä»¥èµ‹å€¼ç»™<code>void</code>çš„</p>
</blockquote>
</li>
<li><p><code>void</code> è¡¨ç¤ºä¸€ä¸ªå‡½æ•°å¹¶ä¸ä¼šè¿”å›ä»»ä½•å€¼ï¼Œå½“å‡½æ•°å¹¶æ²¡æœ‰ä»»ä½•è¿”å›å€¼ï¼Œæˆ–è€…è¿”å›ä¸äº†æ˜ç¡®çš„å€¼çš„æ—¶å€™ï¼Œå°±åº”è¯¥ç”¨è¿™ç§ç±»å‹ã€‚</p>
<p> <code>never</code>è¡¨ç¤ºä¸€ä¸ªå‡½æ•°ä»æ¥ä¸è¿”å›å€¼ï¼Œå¯èƒ½è¿™ä¸ªå‡½æ•°å¤„äºæ­»å¾ªç¯ï¼Œä¸€ç›´åœ¨è¿è¡Œï¼Œä¹Ÿå¯èƒ½è¿™ä¸ªå‡½æ•°è¿è¡Œè¿‡ç¨‹ä¸­æŠ¥é”™ï¼›<code>never</code>åªèƒ½èµ‹å€¼ç»™<code>never</code>ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§è¿›è¡Œ<strong>ç©·å°½æ£€æŸ¥ï¼ˆExhaustiveness checkingï¼‰</strong> ã€‚</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>æ³¨ï¼š</strong></p>
<p>å½“åŸºäºä¸Šä¸‹æ–‡çš„æ¨å¯¼ï¼Œè¿”å›ç±»å‹ä¸º<code>void</code>æ—¶ï¼Œä¸ä¼šå¼ºåˆ¶è¿”å›å‡½æ•°ä¸€å®šä¸èƒ½è¿”å›å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´å½“è¿™æ ·ä¸€ä¸ªç±»å‹<code>(type vf = () =&gt; void)</code>è¢«åº”ç”¨æ—¶ï¼Œä¹Ÿæ˜¯å¯ä»¥è¿”å›å€¼çš„ï¼Œåªä¸è¿‡è¿”å›çš„å€¼ä¼šè¢«å¿½ç•¥ã€‚</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> voidFunc = <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> f1: voidFunc = <span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = f1() <span class="comment">//let a: void</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> f2: voidFunc = <span class="function">() =&gt;</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = f2()  <span class="comment">//let b: void</span></span><br><span class="line"><span class="keyword">const</span> f3: voidFunc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = f3() <span class="comment">//let c: void</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°<code>a</code> <code>b</code> <code>c</code>çš„ç±»å‹éƒ½æ˜¯<code>void</code></p>
<p>ä½†å½“ä¸€ä¸ªå‡½æ•°å­—é¢é‡å®šä¹‰è¿”å›ä¸€ä¸ª <code>void</code> ç±»å‹ï¼Œå‡½æ•°æ˜¯ä¸€å®šä¸èƒ½è¿”å›ä»»ä½•ä¸œè¥¿çš„</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">//Type &#x27;true&#x27; is not assignable to type &#x27;void&#x27;.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> f3 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">//Type &#x27;true&#x27; is not assignable to type &#x27;void&#x27;.</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p> <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/intro.html">ts handbook</a></p>
<p><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/tsconfig#strictNullChecks=">strictNullChecks</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/30/TS%E4%B8%ADany%E5%92%8Cunknown%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/30/TS%E4%B8%ADany%E5%92%8Cunknown%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">TSä¸­anyå’Œunknownæœ‰ä»€ä¹ˆåŒºåˆ«</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-04-30 13:59:02" itemprop="dateCreated datePublished" datetime="2022-04-30T13:59:02+08:00">2022-04-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-05-16 14:02:05" itemprop="dateModified" datetime="2022-05-16T14:02:05+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="å…±åŒç‚¹"><a href="#å…±åŒç‚¹" class="headerlink" title="å…±åŒç‚¹"></a>å…±åŒç‚¹</h2><p>é¦–å…ˆæ˜¯äºŒè€…çš„ç›¸åŒç‚¹ï¼š<code>unknown</code>å’Œ<code>any</code>éƒ½æ˜¯é¡¶å±‚ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ç±»å‹éƒ½å¯ä»¥èµ‹å€¼ç»™<code>unknown</code>å’Œ<code>any</code></p>
<h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><p>ä¸åŒç‚¹åœ¨äº<strong>ä¸<code>any</code>ç›¸æ¯”ï¼Œ<code>unknown</code>æ˜¯æ›´ç¬¦åˆç±»å‹å®‰å…¨åŸåˆ™</strong>çš„ï¼Œä½¿ç”¨<code>any</code>å°±æ„å‘³ç€æ”¾å¼ƒäº†ç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œæ­¤æ—¶ä½ å¯ä»¥å¯¹ä¸€ä¸ª<code>any</code>ç±»å‹çš„çš„å˜é‡è¿›è¡Œä»»ä½•æ“ä½œï¼Œä½†å¦‚æœè¿™ä¸ªå˜é‡æ˜¯<code>unknown</code>ï¼Œä½ ä¸èƒ½ç›´æ¥å¯¹å®ƒè¿›è¡Œæ“ä½œï¼Œå› ä¸º<code>unknown</code>æ­¤åˆ»ç±»å‹æ˜¯æœªçŸ¥çš„ï¼Œç›´æ¥æ“ä½œå¯èƒ½ä¼šå‡ºé”™ï¼Œéœ€è¦<code>unknown</code>è¿›è¡Œ<strong>ç±»å‹æ”¶çª„</strong>ã€‚</p>
<blockquote>
<p>ä¼ ç»ŸåŠŸå¤«æ˜¯è®²ç©¶<code>åŒ–åŠ²å„¿</code>çš„ï¼Œ<code>any</code>å°±æ˜¯è¿™æ ·ä¸€è‚¡<code>åŒ–åŠ²å„¿</code>ï¼Œå“ªé‡Œä¸é€šæ€¼å“ªé‡Œï¼Œ<code>åŒ–åŠ²å„¿</code>ç»ƒåˆ°æœ€åå°±å¯ä»¥å°†<code>anyscript</code>ä¿®ç‚¼åˆ°å¤§æˆï¼Œä¹Ÿå°±æ˜¯çº¯æ­£çš„<code>Javascript</code>ï¼Œå³æ²¡æœ‰ç±»å‹æ£€æŸ¥çš„é˜¶æ®µï¼</p>
</blockquote>
<p>æ³¨æ„è§‚å¯Ÿä¸‹é¢çš„ä¾‹å­:</p>
<p><strong>ä½¿ç”¨ any è·³è¿‡äº†ç±»å‹æ£€æŸ¥ï¼Œä¸ä¼šæŠ¥é”™ï¼›</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayMyName</span>(<span class="params">callback: <span class="built_in">any</span></span>) </span>&#123;</span><br><span class="line">    callback()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åŒæ ·æ˜¯é¡¶å±‚ç±»å‹ï¼Œunknown ä¼šæœ‰ç±»å‹æ£€æŸ¥</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayMyName</span>(<span class="params">callback: unknown</span>) </span>&#123;</span><br><span class="line">    callback()</span><br><span class="line">&#125; <span class="comment">//(parameter) callback: unknown Object is of type &#x27;unknown&#x27;.</span></span><br></pre></td></tr></table></figure>

<p>è™½ç„¶ä¸Šè¿°ä¾‹å­ä¸­ï¼Œä½¿ç”¨<code>any</code>æ—¶ä¸ä¼šçˆ†å‡ºç±»å‹é”™è¯¯ï¼Œä½†æ˜¯æœ€ç»ˆè¿è¡Œä»£ç æ—¶è¿˜æ˜¯å¯èƒ½ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚è¿è¡Œ <code>sayMyName(1)</code>; ä½† ä½¿ç”¨<code>unknown</code>æ—¶ï¼ŒåŒæ ·çš„ä»£ç ï¼ŒTSä¸ºæˆ‘ä»¬æŒ‡å‡ºäº†æ½œåœ¨çš„é”™è¯¯ï¼Œè¿™ä¹Ÿæ˜¯<code>TypeScript</code>çš„åˆè¡·ï¼Œå› æ­¤è¯´ï¼š**<code>ä¸</code>any<code>ç›¸æ¯”ï¼Œ</code>unknown<code>æ˜¯æ›´ç¬¦åˆç±»å‹å®‰å…¨åŸåˆ™çš„</code>**ã€‚</p>
<p>å¯¹ä½¿ç”¨<code>unknown</code>çš„æƒ…å½¢è¿›è¡Œç±»å‹æ”¶çª„ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayMyName</span>(<span class="params">callback: unknown</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> callback === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        callback()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å°†unknownæ”¶çª„åˆ°ç‰¹å®šç±»å‹</strong>ï¼Œå°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨<strong>ç±»å‹æ–­è¨€</strong>è¾¾åˆ°ç±»ä¼¼æ•ˆæœ</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res: unknown = <span class="number">123</span></span><br><span class="line"><span class="keyword">let</span> a: <span class="built_in">string</span> = res <span class="keyword">as</span> <span class="built_in">string</span> <span class="comment">//é€šè¿‡ç±»å‹æ£€æŸ¥ï¼Œä½†è¿è¡ŒæŠ¥é”™</span></span><br><span class="line"><span class="keyword">const</span> b: <span class="built_in">number</span> = res <span class="keyword">as</span> <span class="built_in">number</span> </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a.toLocaleLowerCase()) </span><br><span class="line"><span class="comment">// [ERR]: a.toLocaleLowerCase is not a function </span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/06/%E4%BD%A0%E7%9F%A5%E9%81%93Canvas%E4%B8%8ESvg%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB%E5%90%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="martisss">
      <meta itemprop="description" content="å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Martisss's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/06/%E4%BD%A0%E7%9F%A5%E9%81%93Canvas%E4%B8%8ESvg%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB%E5%90%97/" class="post-title-link" itemprop="url">ä½ çŸ¥é“Canvasä¸Svgä¹‹é—´çš„åŒºåˆ«å—ï¼Ÿ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-04-06 11:26:35" itemprop="dateCreated datePublished" datetime="2022-04-06T11:26:35+08:00">2022-04-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-04-09 11:29:52" itemprop="dateModified" datetime="2022-04-09T11:29:52+08:00">2022-04-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="svg"><a href="#svg" class="headerlink" title="svg"></a>svg</h2><p><strong>å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢</strong>ï¼ˆ<strong>Scalable Vector Graphicsï¼ŒSVG</strong>ï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨äºæè¿°äºŒç»´çš„<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%9F%A2%E9%87%8F%E5%9B%BE%E5%BD%A2">çŸ¢é‡å›¾å½¢</a>ï¼ŒåŸºäº <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/XML/XML_Introduction">XML</a> çš„æ ‡è®°è¯­è¨€, è¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨(å¦‚è®°äº‹æœ¬)åˆ›å»ºå’Œç¼–è¾‘<code>SVG</code>å›¾åƒã€‚</p>
<p>ä¸<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/jpeg">JPEG</a>å’Œ<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/PNG">PNG</a>è¿™ç§ä¼ ç»Ÿçš„ç‚¹é˜µå›¾åƒæ¨¡å¼ä¸åŒï¼ŒSVGæ ¼å¼æä¾›çš„æ˜¯çŸ¢é‡å›¾ï¼Œè¿™æ„å‘³ç€å®ƒçš„å›¾åƒèƒ½å¤Ÿè¢«<strong>æ— é™æ”¾å¤§è€Œä¸å¤±çœŸæˆ–é™ä½è´¨é‡</strong>ï¼Œå¹¶ä¸”å¯ä»¥æ–¹ä¾¿åœ°ä¿®æ”¹å†…å®¹ã€‚</p>
<p><code>HTML</code> <code>&lt;svg&gt;</code>å…ƒç´ æ˜¯<code>svg</code>å›¾å½¢çš„å®¹å™¨ã€‚</p>
<hr/>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://jsbin.com/yejohebuvo/2/edit?html,console,output=">svg demo</a></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">id</span>=<span class="string">&quot;svgelem&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">circle</span> <span class="attr">id</span>=<span class="string">&quot;greencircle&quot;</span> <span class="attr">cx</span>=<span class="string">&quot;60&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;60&quot;</span> <span class="attr">r</span>=<span class="string">&quot;50&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;#1E81FF&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a84cb8161344125a65d9a5243c45d9c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="canvas"><a href="#canvas" class="headerlink" title="canvas"></a>canvas</h2><p><code>&lt;canvas&gt;</code>æœ¬èº«åªæ˜¯ç›¸å½“äºä¸€å—ç”»å¸ƒï¼Œä¸å…·æœ‰ç»˜å›¾èƒ½åŠ›ï¼Œå¿…é¡»é€šè¿‡è„šæœ¬(é€šå¸¸æ˜¯JavaScript)åŠ¨æ€åœ°ç»˜åˆ¶å›¾å½¢ï¼Œè„šæœ¬å……å½“ç”»ç¬”çš„è§’è‰²ã€‚å…ƒç´ åªæ˜¯å›¾å½¢çš„å®¹å™¨, å¿…é¡»ä½¿ç”¨è„šæœ¬æ¥å®é™…ç»˜åˆ¶å›¾å½¢ã€‚Canvasæœ‰å‡ ç§ç»˜åˆ¶è·¯å¾„ã€æ¡†ã€åœ†ã€æ–‡æœ¬å’Œæ·»åŠ å›¾åƒçš„æ–¹æ³•</p>
<hr/>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://jsbin.com/weduxufura/edit?html,console,output=">canvas demo</a></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;newCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border:1px solid #000000;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> c = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;newCanvas&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ctx = c.getContext(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    ctx.fillStyle = <span class="string">&#x27;#1E81FF&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4d10aba1ba1a4916ad0da0d5ebebf326~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="äºŒè€…çš„åŒºåˆ«"><a href="#äºŒè€…çš„åŒºåˆ«" class="headerlink" title="äºŒè€…çš„åŒºåˆ«"></a>äºŒè€…çš„åŒºåˆ«</h2><p><code>SVG</code>æ˜¯ä¸€ç§åŸºäº<code>XML</code>ä¸­çš„2Då›¾å½¢çš„è¯­è¨€ã€‚</p>
<p><code>Canvas</code>é€šè¿‡è„šæœ¬åŠ¨æ€ç»˜åˆ¶2Då›¾å½¢ã€‚</p>
<p><code>SVG</code>æ˜¯åŸºäº<code>XML</code>çš„ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªå…ƒç´ éƒ½åœ¨<code>SVG DOM</code>ä¸­å¯ç”¨, å¯ä»¥ä¸ºå…ƒç´ é™„åŠ <code>JavaScript</code>äº‹ä»¶å¤„ç†ç¨‹åºã€‚åœ¨SVGä¸­ï¼Œå°†æ¯ä¸ªç»˜åˆ¶çš„å½¢çŠ¶è®°ä½ä¸ºå¯¹è±¡ã€‚å¦‚æœæ›´æ”¹äº†SVGå¯¹è±¡çš„å±æ€§ï¼Œåˆ™æµè§ˆå™¨å¯ä»¥è‡ªåŠ¨é‡æ–°å‘ˆç°å½¢çŠ¶ã€‚</p>
<p><code>Canvas</code>ç”±åƒç´ å‘ˆç°,ä¸€æ—¦å›¾å½¢åœ¨ç”»å¸ƒä¸­ç»˜åˆ¶å®Œæˆï¼Œæµè§ˆå™¨æ’’æ‰‹ä¸ç®¡äº†ã€‚å¦‚æœéœ€è¦æ›´æ”¹å…¶ä½ç½®ï¼Œåˆ™éœ€è¦é‡æ–°ç»˜åˆ¶æ•´ä¸ªåœºæ™¯ï¼Œå…¶ä¸­è®¸å¤šå¯¹è±¡ä¼šè¢«é¢‘ç¹é‡ç»˜ã€‚</p>
<p><strong>è¯¦ç»†å¯¹æ¯”å¦‚ä¸‹ï¼š</strong></p>
<table>
<thead>
<tr>
<th>SVG</th>
<th>Canvas</th>
</tr>
</thead>
<tbody><tr>
<td>ä¸ä¾èµ–åˆ†è¾¨ç‡ï¼ˆçŸ¢é‡å›¾ï¼‰</td>
<td>ä¾èµ–åˆ†è¾¨ç‡ï¼ˆä½å›¾ï¼‰</td>
</tr>
<tr>
<td>æ¯ä¸€ä¸ªå›¾å½¢éƒ½æ˜¯ä¸€ä¸ª <code>DOM</code>å…ƒç´ </td>
<td>å•ä¸ªHTMLå…ƒç´ ï¼Œç›¸å½“äº<code>&lt;img&gt;</code></td>
</tr>
<tr>
<td>æ”¯æŒäº‹ä»¶å¤„ç†å™¨</td>
<td>ä¸æ”¯æŒäº‹ä»¶å¤„ç†å™¨</td>
</tr>
<tr>
<td>é€‚åˆå¤§å‹æ¸²æŸ“åŒºåŸŸçš„åº”ç”¨ç¨‹åº(è°·æ­Œåœ°å›¾)</td>
<td>æ–‡æœ¬æ¸²æŸ“èƒ½åŠ›å·®</td>
</tr>
<tr>
<td>å¯ä»¥é€šè¿‡è„šæœ¬å’ŒCSSè¿›è¡Œä¿®æ”¹</td>
<td>åªèƒ½é€šè¿‡è„šæœ¬ä¿®æ”¹</td>
</tr>
<tr>
<td>å¯¹è±¡æ•°é‡è¾ƒå° (<code>&lt;10k</code>)ã€å›¾é¢æ›´å¤§æ—¶æ€§èƒ½æ›´ä½³</td>
<td>å›¾é¢è¾ƒå°ï¼Œå¯¹è±¡æ•°é‡è¾ƒå¤§ï¼ˆ<code>&gt;10k</code>ï¼‰æ—¶æ€§èƒ½æœ€ä½³</td>
</tr>
<tr>
<td>ä¸é€‚åˆæ¸¸æˆåº”ç”¨</td>
<td>é€‚åˆå›¾åƒå¯†é›†å‹çš„æ¸¸æˆåº”ç”¨</td>
</tr>
</tbody></table>
<h2 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h2><p><a target="_blank" rel="noopener" href="https://caniuse.com/?search=svg">Can I use Svg ?</a></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/09e94e23b7394d24a38911645c4c2190~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><a target="_blank" rel="noopener" href="https://caniuse.com/?search=Canvas">Can I use Canvas ?</a></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b068616852114a3eac8ef42d4a3c5bba~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a target="_blank" rel="noopener" href="https://caniuse.com/">Can I use</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3schools.com/html/html5_svg.asp">W3cSchool</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/SVG">MDN</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="martisss"
      src="/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">martisss</p>
  <div class="site-description" itemprop="description">å­©å­ï¼Œå¿«é€ƒï¼ï¼ï¼</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">22</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/martisss" title="Martisss â†’ https:&#x2F;&#x2F;github.com&#x2F;martisss" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>Martisss</a>
      </span>
  </div>



      </div>

      <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=441491828&auto=1&height=66"></iframe>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">martisss</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

  <script src="/js/wobblewindow.js"></script>
  <script>
    //åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ
    if( window.innerWidth > 768  ){
      $(document).ready(function () {
        
          $('#header').wobbleWindow({
            radius: 50,
            movementTop: false,
            movementLeft: false,
            movementRight: false,
            debug: false,
          });
        

        
          $('#sidebar').wobbleWindow({
            radius: 50,
            movementLeft: false,
            movementTop: false,
            movementBottom: false,
            position: 'fixed',
            debug: false,
          });
        

        
          $('#footer').wobbleWindow({
            radius: 50,
            movementBottom: false,
            movementLeft: false,
            movementRight: false,
            offsetX: ,
            position: 'absolute',
            debug: false,
          });
        
      });
    }
  </script>

</body>
<!--åŠ¨æ€çº¿æ¡èƒŒæ™¯-->
<script type="text/javascript"
color="220,220,220" opacity='0.7' zIndex="-2" count="800" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>
</html>
